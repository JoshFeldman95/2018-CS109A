
% Default to the notebook output style

    


% Inherit from the specified cell style.




    
\documentclass[11pt]{article}

    
    
    \usepackage[T1]{fontenc}
    % Nicer default font (+ math font) than Computer Modern for most use cases
    \usepackage{mathpazo}

    % Basic figure setup, for now with no caption control since it's done
    % automatically by Pandoc (which extracts ![](path) syntax from Markdown).
    \usepackage{graphicx}
    % We will generate all images so they have a width \maxwidth. This means
    % that they will get their normal width if they fit onto the page, but
    % are scaled down if they would overflow the margins.
    \makeatletter
    \def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth
    \else\Gin@nat@width\fi}
    \makeatother
    \let\Oldincludegraphics\includegraphics
    % Set max figure width to be 80% of text width, for now hardcoded.
    \renewcommand{\includegraphics}[1]{\Oldincludegraphics[width=.8\maxwidth]{#1}}
    % Ensure that by default, figures have no caption (until we provide a
    % proper Figure object with a Caption API and a way to capture that
    % in the conversion process - todo).
    \usepackage{caption}
    \DeclareCaptionLabelFormat{nolabel}{}
    \captionsetup{labelformat=nolabel}

    \usepackage{adjustbox} % Used to constrain images to a maximum size 
    \usepackage{xcolor} % Allow colors to be defined
    \usepackage{enumerate} % Needed for markdown enumerations to work
    \usepackage{geometry} % Used to adjust the document margins
    \usepackage{amsmath} % Equations
    \usepackage{amssymb} % Equations
    \usepackage{textcomp} % defines textquotesingle
    % Hack from http://tex.stackexchange.com/a/47451/13684:
    \AtBeginDocument{%
        \def\PYZsq{\textquotesingle}% Upright quotes in Pygmentized code
    }
    \usepackage{upquote} % Upright quotes for verbatim code
    \usepackage{eurosym} % defines \euro
    \usepackage[mathletters]{ucs} % Extended unicode (utf-8) support
    \usepackage[utf8x]{inputenc} % Allow utf-8 characters in the tex document
    \usepackage{fancyvrb} % verbatim replacement that allows latex
    \usepackage{grffile} % extends the file name processing of package graphics 
                         % to support a larger range 
    % The hyperref package gives us a pdf with properly built
    % internal navigation ('pdf bookmarks' for the table of contents,
    % internal cross-reference links, web links for URLs, etc.)
    \usepackage{hyperref}
    \usepackage{longtable} % longtable support required by pandoc >1.10
    \usepackage{booktabs}  % table support for pandoc > 1.12.2
    \usepackage[inline]{enumitem} % IRkernel/repr support (it uses the enumerate* environment)
    \usepackage[normalem]{ulem} % ulem is needed to support strikethroughs (\sout)
                                % normalem makes italics be italics, not underlines
    

    
    
    % Colors for the hyperref package
    \definecolor{urlcolor}{rgb}{0,.145,.698}
    \definecolor{linkcolor}{rgb}{.71,0.21,0.01}
    \definecolor{citecolor}{rgb}{.12,.54,.11}

    % ANSI colors
    \definecolor{ansi-black}{HTML}{3E424D}
    \definecolor{ansi-black-intense}{HTML}{282C36}
    \definecolor{ansi-red}{HTML}{E75C58}
    \definecolor{ansi-red-intense}{HTML}{B22B31}
    \definecolor{ansi-green}{HTML}{00A250}
    \definecolor{ansi-green-intense}{HTML}{007427}
    \definecolor{ansi-yellow}{HTML}{DDB62B}
    \definecolor{ansi-yellow-intense}{HTML}{B27D12}
    \definecolor{ansi-blue}{HTML}{208FFB}
    \definecolor{ansi-blue-intense}{HTML}{0065CA}
    \definecolor{ansi-magenta}{HTML}{D160C4}
    \definecolor{ansi-magenta-intense}{HTML}{A03196}
    \definecolor{ansi-cyan}{HTML}{60C6C8}
    \definecolor{ansi-cyan-intense}{HTML}{258F8F}
    \definecolor{ansi-white}{HTML}{C5C1B4}
    \definecolor{ansi-white-intense}{HTML}{A1A6B2}

    % commands and environments needed by pandoc snippets
    % extracted from the output of `pandoc -s`
    \providecommand{\tightlist}{%
      \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
    \DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
    % Add ',fontsize=\small' for more characters per line
    \newenvironment{Shaded}{}{}
    \newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.56,0.13,0.00}{{#1}}}
    \newcommand{\DecValTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\FloatTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\CharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\StringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\CommentTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textit{{#1}}}}
    \newcommand{\OtherTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{{#1}}}
    \newcommand{\AlertTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.02,0.16,0.49}{{#1}}}
    \newcommand{\RegionMarkerTok}[1]{{#1}}
    \newcommand{\ErrorTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\NormalTok}[1]{{#1}}
    
    % Additional commands for more recent versions of Pandoc
    \newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.53,0.00,0.00}{{#1}}}
    \newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.73,0.40,0.53}{{#1}}}
    \newcommand{\ImportTok}[1]{{#1}}
    \newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.73,0.13,0.13}{\textit{{#1}}}}
    \newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\VariableTok}[1]{\textcolor[rgb]{0.10,0.09,0.49}{{#1}}}
    \newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.40,0.40,0.40}{{#1}}}
    \newcommand{\BuiltInTok}[1]{{#1}}
    \newcommand{\ExtensionTok}[1]{{#1}}
    \newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.74,0.48,0.00}{{#1}}}
    \newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.49,0.56,0.16}{{#1}}}
    \newcommand{\InformationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\WarningTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    
    
    % Define a nice break command that doesn't care if a line doesn't already
    % exist.
    \def\br{\hspace*{\fill} \\* }
    % Math Jax compatability definitions
    \def\gt{>}
    \def\lt{<}
    % Document parameters
    \title{cs109a\_hw1}
    
    
    

    % Pygments definitions
    
\makeatletter
\def\PY@reset{\let\PY@it=\relax \let\PY@bf=\relax%
    \let\PY@ul=\relax \let\PY@tc=\relax%
    \let\PY@bc=\relax \let\PY@ff=\relax}
\def\PY@tok#1{\csname PY@tok@#1\endcsname}
\def\PY@toks#1+{\ifx\relax#1\empty\else%
    \PY@tok{#1}\expandafter\PY@toks\fi}
\def\PY@do#1{\PY@bc{\PY@tc{\PY@ul{%
    \PY@it{\PY@bf{\PY@ff{#1}}}}}}}
\def\PY#1#2{\PY@reset\PY@toks#1+\relax+\PY@do{#2}}

\expandafter\def\csname PY@tok@gd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@gu\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.50,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.27,0.87}{##1}}}
\expandafter\def\csname PY@tok@gs\endcsname{\let\PY@bf=\textbf}
\expandafter\def\csname PY@tok@gr\endcsname{\def\PY@tc##1{\textcolor[rgb]{1.00,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@cm\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@vg\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@mh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@cs\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@ge\endcsname{\let\PY@it=\textit}
\expandafter\def\csname PY@tok@vc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@il\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@go\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.53,0.53}{##1}}}
\expandafter\def\csname PY@tok@cp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.74,0.48,0.00}{##1}}}
\expandafter\def\csname PY@tok@gi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@gh\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@ni\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.60,0.60,0.60}{##1}}}
\expandafter\def\csname PY@tok@nl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@nn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@no\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@na\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.49,0.56,0.16}{##1}}}
\expandafter\def\csname PY@tok@nb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@nd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@ne\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.82,0.25,0.23}{##1}}}
\expandafter\def\csname PY@tok@nf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@si\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@s2\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@nt\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nv\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@s1\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@dl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@ch\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@m\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@gp\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@sh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@ow\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@sx\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@bp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@c1\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@fm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@o\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@kc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@c\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@mf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@err\endcsname{\def\PY@bc##1{\setlength{\fboxsep}{0pt}\fcolorbox[rgb]{1.00,0.00,0.00}{1,1,1}{\strut ##1}}}
\expandafter\def\csname PY@tok@mb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@ss\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@sr\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@mo\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@kd\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@mi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@kn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@cpf\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@kr\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@s\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@kp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@w\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.73,0.73}{##1}}}
\expandafter\def\csname PY@tok@kt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.69,0.00,0.25}{##1}}}
\expandafter\def\csname PY@tok@sc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sa\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@k\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@se\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.13}{##1}}}
\expandafter\def\csname PY@tok@sd\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}

\def\PYZbs{\char`\\}
\def\PYZus{\char`\_}
\def\PYZob{\char`\{}
\def\PYZcb{\char`\}}
\def\PYZca{\char`\^}
\def\PYZam{\char`\&}
\def\PYZlt{\char`\<}
\def\PYZgt{\char`\>}
\def\PYZsh{\char`\#}
\def\PYZpc{\char`\%}
\def\PYZdl{\char`\$}
\def\PYZhy{\char`\-}
\def\PYZsq{\char`\'}
\def\PYZdq{\char`\"}
\def\PYZti{\char`\~}
% for compatibility with earlier versions
\def\PYZat{@}
\def\PYZlb{[}
\def\PYZrb{]}
\makeatother


    % Exact colors from NB
    \definecolor{incolor}{rgb}{0.0, 0.0, 0.5}
    \definecolor{outcolor}{rgb}{0.545, 0.0, 0.0}



    
    % Prevent overflowing lines due to hard-to-break entities
    \sloppy 
    % Setup hyperref package
    \hypersetup{
      breaklinks=true,  % so long urls are correctly broken across lines
      colorlinks=true,
      urlcolor=urlcolor,
      linkcolor=linkcolor,
      citecolor=citecolor,
      }
    % Slightly bigger margins than the latex defaults
    
    \geometry{verbose,tmargin=1in,bmargin=1in,lmargin=1in,rmargin=1in}
    
    

    \begin{document}
    
    
    \maketitle
    
    

    
    \section{ CS109A Introduction to Data
Science}\label{cs109a-introduction-to-data-science}

\subsection{Homework 1: Data Collection - Web Scraping - Data
Parsing}\label{homework-1-data-collection---web-scraping---data-parsing}

\textbf{Harvard University} \textbf{Fall 2018} \textbf{Instructors}:
Pavlos Protopapas and Kevin Rader

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}2}]:} \PY{c+c1}{\PYZsh{}\PYZsh{} RUN THIS CELL TO GET THE RIGHT FORMATTING }
        \PY{k+kn}{import} \PY{n+nn}{requests}
        \PY{k+kn}{from} \PY{n+nn}{IPython}\PY{n+nn}{.}\PY{n+nn}{core}\PY{n+nn}{.}\PY{n+nn}{display} \PY{k}{import} \PY{n}{HTML}
        \PY{n}{styles} \PY{o}{=} \PY{n}{requests}\PY{o}{.}\PY{n}{get}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{https://raw.githubusercontent.com/Harvard\PYZhy{}IACS/2018\PYZhy{}CS109A/master/content/styles/cs109.css}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}\PY{o}{.}\PY{n}{text}
        \PY{n}{HTML}\PY{p}{(}\PY{n}{styles}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}2}]:} <IPython.core.display.HTML object>
\end{Verbatim}
            
    \paragraph{Instructions}\label{instructions}

\begin{itemize}
\tightlist
\item
  To submit your assignment follow the instructions given in Canvas.
\item
  The deliverables in Canvas are:

  \begin{enumerate}
  \def\labelenumi{\alph{enumi})}
  \tightlist
  \item
    This python notebook with your code and answers, plus a pdf version
    of it (see Canvas for details),
  \item
    the bibtex file you created, 
  \item
    The CSV file you created, 
  \item
    The JSON file you created. 
  \end{enumerate}
\item
  Exercise \textbf{responsible scraping}. Web servers can become slow or
  unresponsive if they receive too many requests from the same source in
  a short amount of time. Use a delay of 10 seconds between requests in
  your code. This helps not to get blocked by the target website. Run
  the webpage fetching part of the homework only once and do not re-run
  after you have saved the results in the JSON file (details below).
\item
  Web scraping requests can take several minutes. This is another reason
  why you should not wait until the last minute to do this homework.
\item
  For this assignment, we will use Python 3.5 for grading.
\end{itemize}

\section{Data Collection - Web Scraping - Data
Parsing}\label{data-collection---web-scraping---data-parsing}

In this homework, your goal is to learn how to acquire, parse, clean,
and analyze data. Initially you will read the data from a file, and then
later scrape them directly from a website. You will look for specific
pieces of information by parsing the data, clean the data to prepare
them for analysis, and finally, answer some questions.

In doing so you will get more familiar with three of the common file
formats for storing and transferring data, which are: - CSV, a
text-based file format used for storing tabular data that are separated
by some delimiter, usually comma or space. - HTML/XML, the stuff the web
is made of. - JavaScript Object Notation (JSON), a text-based open
standard designed for transmitting structured data over the web.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}3}]:} \PY{c+c1}{\PYZsh{} import the necessary libraries}
        \PY{o}{\PYZpc{}}\PY{k}{matplotlib} inline
        \PY{k+kn}{import} \PY{n+nn}{numpy} \PY{k}{as} \PY{n+nn}{np}
        \PY{k+kn}{import} \PY{n+nn}{scipy} \PY{k}{as} \PY{n+nn}{sp}
        \PY{k+kn}{import} \PY{n+nn}{matplotlib} \PY{k}{as} \PY{n+nn}{mpl}
        \PY{k+kn}{import} \PY{n+nn}{matplotlib}\PY{n+nn}{.}\PY{n+nn}{cm} \PY{k}{as} \PY{n+nn}{cm}
        \PY{k+kn}{import} \PY{n+nn}{matplotlib}\PY{n+nn}{.}\PY{n+nn}{pyplot} \PY{k}{as} \PY{n+nn}{plt}
        \PY{k+kn}{import} \PY{n+nn}{pandas} \PY{k}{as} \PY{n+nn}{pd}
        \PY{k+kn}{import} \PY{n+nn}{time}
        \PY{n}{pd}\PY{o}{.}\PY{n}{set\PYZus{}option}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{display.width}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{500}\PY{p}{)}
        \PY{n}{pd}\PY{o}{.}\PY{n}{set\PYZus{}option}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{display.max\PYZus{}columns}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{100}\PY{p}{)}
        \PY{n}{pd}\PY{o}{.}\PY{n}{set\PYZus{}option}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{display.notebook\PYZus{}repr\PYZus{}html}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{k+kc}{True}\PY{p}{)}
        \PY{k+kn}{import} \PY{n+nn}{seaborn} \PY{k}{as} \PY{n+nn}{sns}
\end{Verbatim}


    \subsection{Help a professor parse their publications and extract
information.}\label{help-a-professor-parse-their-publications-and-extract-information.}

\subsubsection{Overview}\label{overview}

In this part your goal is to parse the HTML page of a professor
containing some of his/her publications, and answer some questions. This
page is provided to you in the file
\texttt{data/publist\_super\_clean.html}. There are 45 publications in
descending order from No. 244 to No. 200.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}4}]:} \PY{c+c1}{\PYZsh{} use this file provided}
        \PY{n}{PUB\PYZus{}FILENAME} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{data/publist\PYZus{}super\PYZus{}clean.html}\PY{l+s+s1}{\PYZsq{}}
\end{Verbatim}


     Question 1 {[}40 pts{]}: Parsing and Converting to bibTex and CSV using
Beautiful Soup and python string manipulation

A lot of the bibliographic and publication information is displayed in
various websites in a not-so-structured HTML files. Some publishers
prefer to store and transmit this information in a .bibTex file which
looks roughly like this (we've simplified a few things):

\begin{verbatim}
@article { 
     author = "John Doyle"
     title = "Interaction between atoms"
     URL = "Papers/PhysRevB_81_085406_2010.pdf"
     journal = "Phys. Rev. B"
     volume = "81"
}
\end{verbatim}

You will notice that this file format is a set of items, each of which
is a set of key-value pairs. In the python world, you can think of this
as a list of dictionaries. If you think about spreadsheets (as
represented by CSV files), they have the same structure. Each line is an
item, and has multiple features, or keys, as represented by that line's
value for the column corresponding to the key.

You are given an .html file containing a list of papers scraped from the
author's website and you are to write the information into .bibTex and
.CSV formats. A useful tool for parsing websites is BeautifulSoup
(http://www.crummy.com/software/BeautifulSoup/) (BS). In this problem,
will parse the file using BS, which makes parsing HTML a lot easier.

\textbf{1.1} Write a function called \texttt{make\_soup} that accepts a
filename for an HTML file and returns a BS object.

\textbf{1.2} Write a function that reads in the BS object, parses it,
converts it into a list of dictionaries: one dictionary per paper. Each
of these dictionaries should have the following format (with different
values for each publication):

\begin{verbatim}
{'author': 'L.A. Agapito, N. Kioussis and E. Kaxiras',
 'title': '"Electric-field control of magnetism in graphene quantum dots:\n Ab initio calculations"',
 'URL': 'Papers/PhysRevB_82_201411_2010.pdf',
 'journal': 'Phys. Rev. B',
 'volume': '82'}
\end{verbatim}

\textbf{1.3} Convert the list of dictionaries into standard .bibTex
format using python string manipulation, and write the results into a
file called \texttt{publist.bib}.

\textbf{1.4} Convert the list of dictionaries into standard tabular .csv
format using pandas, and write the results into a file called
\texttt{publist.csv}. The csv file should have a header and no integer
index.

\paragraph{HINT}\label{hint}

\begin{itemize}
\tightlist
\item
  Inspect the HTML code for tags that indicate information chunks such
  as \texttt{title} of the paper. The \texttt{find\_all} method of
  BeautifulSoup might be useful.
\item
  Question 1.2 is better handled if you break the code into functions,
  each performing a small task such as finding the author(s) for each
  paper.
\item
  Question 1.3 is effectively tackled by first using python string
  formatting on a template string.
\item
  Make sure you catch exceptions when needed.
\item
  Make sure you check for \textbf{missing data} and handle these cases
  as you see fit.
\end{itemize}

\paragraph{Resources}\label{resources}

\begin{itemize}
\tightlist
\item
  \href{https://www.dataquest.io/blog/web-scraping-tutorial-python/}{BeautifulSoup
  Tutorial}.
\item
  More about the \href{http://www.bibtex.org}{BibTex format}.
\end{itemize}

\subsubsection{Answers}\label{answers}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}5}]:} \PY{c+c1}{\PYZsh{} import the necessary libraries }
        \PY{k+kn}{from} \PY{n+nn}{bs4} \PY{k}{import} \PY{n}{BeautifulSoup}
\end{Verbatim}


    {\textbf{1.1 Write a function called \texttt{make\_soup} ...}}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}6}]:} \PY{k}{def} \PY{n+nf}{make\PYZus{}soup}\PY{p}{(}\PY{n}{filename}\PY{p}{:} \PY{n+nb}{str}\PY{p}{)} \PY{o}{\PYZhy{}}\PY{o}{\PYZgt{}} \PY{n}{BeautifulSoup}\PY{p}{:} 
            \PY{l+s+sd}{\PYZsq{}\PYZsq{}\PYZsq{}Open the file and convert into a BS object. }
        \PY{l+s+sd}{       }
        \PY{l+s+sd}{       Args:}
        \PY{l+s+sd}{           filename: A string name of the file.}
        \PY{l+s+sd}{       }
        \PY{l+s+sd}{       Returns:}
        \PY{l+s+sd}{           A BS object containing the HTML page ready to be parsed.}
        \PY{l+s+sd}{    \PYZsq{}\PYZsq{}\PYZsq{}}
            \PY{c+c1}{\PYZsh{} your code here}
            \PY{k}{with} \PY{n+nb}{open}\PY{p}{(}\PY{n}{filename}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{r}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)} \PY{k}{as} \PY{n}{f}\PY{p}{:}
                \PY{n}{html\PYZus{}text} \PY{o}{=} \PY{n}{f}\PY{o}{.}\PY{n}{read}\PY{p}{(}\PY{p}{)} 
            \PY{k}{return} \PY{n}{BeautifulSoup}\PY{p}{(}\PY{n}{html\PYZus{}text}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{html.parser}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}13}]:} \PY{c+c1}{\PYZsh{} check your code \PYZhy{} print the BS object, you should get a familiar HTML page as text}
         \PY{c+c1}{\PYZsh{} clear/remove output before making pdf}
         
         \PY{c+c1}{\PYZsh{}soup = make\PYZus{}soup(PUB\PYZus{}FILENAME)}
         \PY{c+c1}{\PYZsh{}print(soup)}
\end{Verbatim}


    Your output should look \textbf{like} this:

\begin{verbatim}
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">

<title>Kaxiras E journal publications</title>
<head>
<meta content="text/html;charset=utf-8" http-equiv="Content-Type"/>
<link href="../styles/style_pubs.css" rel="stylesheet" type="text/css"/>
<meta content="" name="description"/>
<meta content="Kaxiras E, Multiscale Methods, Computational Materials" name="keywords"/>
</head>
<body>
<ol start="244">
<li>
<a href="Papers/2011/PhysRevB_84_125411_2011.pdf" target="paper244">
"Approaching the intrinsic band gap in suspended high-mobility graphene nanoribbons"</a>
<br/>Ming-Wei Lin, Cheng Ling, Luis A. Agapito, Nicholas Kioussis, Yiyang Zhang, Mark Ming-Cheng Cheng,
<i>PHYSICAL REVIEW B </i> <b>84</b>,  125411 (2011)
<br/>
</li>
</ol>
<ol start="243">
<li>
<a href="Papers/2011/PhysRevB_84_035325_2011.pdf" target="paper243">
"Effect of symmetry breaking on the optical absorption of semiconductor nanoparticles"</a>
<br/>JAdam Gali, Efthimios Kaxiras, Gergely T. Zimanyi, Sheng Meng,
<i>PHYSICAL REVIEW B </i> <b>84</b>,  035325 (2011)
<br/>
</li>
</ol>

...
\end{verbatim}

    \textbf{1.2 Write a function that reads in the BS object, parses it,
converts it into a list of dictionaries...}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}8}]:} \PY{c+c1}{\PYZsh{} clear output before making pdf}
        \PY{c+c1}{\PYZsh{} your code here }
        \PY{k}{def} \PY{n+nf}{list\PYZus{}of\PYZus{}html\PYZus{}citations}\PY{p}{(}\PY{n}{soup}\PY{p}{)}\PY{p}{:}
            \PY{n}{body} \PY{o}{=} \PY{n}{soup}\PY{o}{.}\PY{n}{find}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{body}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
            \PY{k}{return} \PY{n}{body}\PY{o}{.}\PY{n}{find\PYZus{}all}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ol}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        
        \PY{k}{def} \PY{n+nf}{clean\PYZus{}text}\PY{p}{(}\PY{n}{text}\PY{p}{)}\PY{p}{:}
            \PY{n}{text\PYZus{}to\PYZus{}strip} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+se}{\PYZbs{}n}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ }\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{,}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
            \PY{k}{for} \PY{n}{t} \PY{o+ow}{in} \PY{n}{text\PYZus{}to\PYZus{}strip}\PY{p}{:}
                \PY{n}{text} \PY{o}{=} \PY{n}{text}\PY{o}{.}\PY{n}{strip}\PY{p}{(}\PY{n}{t}\PY{p}{)}
            \PY{n}{text} \PY{o}{=} \PY{n}{text}\PY{o}{.}\PY{n}{replace}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+se}{\PYZbs{}n}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{ }\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
            \PY{k}{return} \PY{n}{text}
        
        \PY{k}{def} \PY{n+nf}{get\PYZus{}title}\PY{p}{(}\PY{n}{citation}\PY{p}{)}\PY{p}{:}
            \PY{n}{text} \PY{o}{=} \PY{n}{citation}\PY{o}{.}\PY{n}{find}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{a}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{get\PYZus{}text}\PY{p}{(}\PY{p}{)}
            \PY{k}{return} \PY{n}{clean\PYZus{}text}\PY{p}{(}\PY{n}{text}\PY{p}{)}
        
        \PY{k}{def} \PY{n+nf}{get\PYZus{}author}\PY{p}{(}\PY{n}{citation}\PY{p}{)}\PY{p}{:}
            \PY{n}{text} \PY{o}{=} \PY{n}{citation}\PY{o}{.}\PY{n}{find}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{li}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{contents}\PY{p}{[}\PY{l+m+mi}{4}\PY{p}{]}
            \PY{k}{return} \PY{n}{clean\PYZus{}text}\PY{p}{(}\PY{n}{text}\PY{p}{)}
        
        \PY{k}{def} \PY{n+nf}{get\PYZus{}url}\PY{p}{(}\PY{n}{citation}\PY{p}{)}\PY{p}{:}
            \PY{n}{text} \PY{o}{=} \PY{n}{citation}\PY{o}{.}\PY{n}{find}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{a}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{get}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{href}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
            \PY{k}{return} \PY{n}{clean\PYZus{}text}\PY{p}{(}\PY{n}{text}\PY{p}{)}
        
        \PY{k}{def} \PY{n+nf}{get\PYZus{}journal}\PY{p}{(}\PY{n}{citation}\PY{p}{)}\PY{p}{:}
            \PY{n}{text} \PY{o}{=} \PY{n}{citation}\PY{o}{.}\PY{n}{find}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{i}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{get\PYZus{}text}\PY{p}{(}\PY{p}{)}
            \PY{k}{return} \PY{n}{clean\PYZus{}text}\PY{p}{(}\PY{n}{text}\PY{p}{)}
        
        \PY{k}{def} \PY{n+nf}{get\PYZus{}volume}\PY{p}{(}\PY{n}{citation}\PY{p}{)}\PY{p}{:}
            \PY{n}{tag} \PY{o}{=} \PY{n}{citation}\PY{o}{.}\PY{n}{find}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{b}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
            \PY{k}{if} \PY{n}{tag} \PY{o+ow}{is} \PY{k+kc}{None}\PY{p}{:}
                \PY{k}{return} \PY{k+kc}{None}
            \PY{k}{else}\PY{p}{:}
                \PY{n}{text} \PY{o}{=} \PY{n}{tag}\PY{o}{.}\PY{n}{get\PYZus{}text}\PY{p}{(}\PY{p}{)}
                \PY{k}{return} \PY{n}{clean\PYZus{}text}\PY{p}{(}\PY{n}{text}\PY{p}{)}
        
        \PY{k}{def} \PY{n+nf}{create\PYZus{}citation\PYZus{}dict}\PY{p}{(}\PY{n}{citation}\PY{p}{)}\PY{p}{:}
            \PY{k}{return} \PY{p}{\PYZob{}}
                \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{author}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{get\PYZus{}author}\PY{p}{(}\PY{n}{citation}\PY{p}{)}\PY{p}{,}
                \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{title}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{get\PYZus{}title}\PY{p}{(}\PY{n}{citation}\PY{p}{)}\PY{p}{,}
                \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{URL}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{get\PYZus{}url}\PY{p}{(}\PY{n}{citation}\PY{p}{)}\PY{p}{,}
                \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{journal}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{get\PYZus{}journal}\PY{p}{(}\PY{n}{citation}\PY{p}{)}\PY{p}{,}
                \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{volume}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{get\PYZus{}volume}\PY{p}{(}\PY{n}{citation}\PY{p}{)}
            \PY{p}{\PYZcb{}}
        
        \PY{k}{def} \PY{n+nf}{parse\PYZus{}for\PYZus{}citations}\PY{p}{(}\PY{n}{soup}\PY{p}{)}\PY{p}{:}
            \PY{k}{return} \PY{p}{[}\PY{n}{create\PYZus{}citation\PYZus{}dict}\PY{p}{(}\PY{n}{c}\PY{p}{)} \PY{k}{for} \PY{n}{c} \PY{o+ow}{in} \PY{n}{list\PYZus{}of\PYZus{}html\PYZus{}citations}\PY{p}{(}\PY{n}{soup}\PY{p}{)}\PY{p}{]}
                
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}9}]:} \PY{c+c1}{\PYZsh{} your code here}
        \PY{n}{parse\PYZus{}for\PYZus{}citations}\PY{p}{(}\PY{n}{soup}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}9}]:} [\{'author': 'Ming-Wei Lin, Cheng Ling, Luis A. Agapito, Nicholas Kioussis, Yiyang Zhang, Mark Ming-Cheng Cheng',
          'title': '"Approaching the intrinsic band gap in suspended high-mobility graphene nanoribbons"',
          'URL': 'Papers/2011/PhysRevB\_84\_125411\_2011.pdf',
          'journal': 'PHYSICAL REVIEW B',
          'volume': '84'\},
         \{'author': 'JAdam Gali, Efthimios Kaxiras, Gergely T. Zimanyi, Sheng Meng',
          'title': '"Effect of symmetry breaking on the optical absorption of semiconductor nanoparticles"',
          'URL': 'Papers/2011/PhysRevB\_84\_035325\_2011.pdf',
          'journal': 'PHYSICAL REVIEW B',
          'volume': '84'\},
         \{'author': 'Jan M. Knaup, Han Li, Joost J. Vlassak, and Efthimios Kaxiras',
          'title': '"Influence of CH2 content and network defects on the elastic properties of organosilicate glasses"',
          'URL': 'Papers/2011/PhysRevB\_83\_054204\_2011.pdf',
          'journal': 'PHYSICAL REVIEW B',
          'volume': '83'\},
         \{'author': 'Martin Heiss, Sonia Conesa-Boj, Jun Ren, Hsiang-Han Tseng, Adam Gali',
          'title': '"Direct correlation of crystal structure and optical properties in wurtzite/zinc-blende GaAs nanowire heterostructures"',
          'URL': 'Papers/2011/PhysRevB\_83\_045303\_2011.pdf',
          'journal': 'PHYSICAL REVIEW B',
          'volume': '83'\},
         \{'author': 'Simone Melchionna, Efthimios Kaxiras, Massimo Bernaschi and Sauro Succi',
          'title': '"Endothelial shear stress from large-scale blood flow simulations"',
          'URL': 'Papers/2011/PhilTransRSocA\_369\_2354\_2011.pdf',
          'journal': 'Phil. Trans. R. Soc. A',
          'volume': '369'\},
         \{'author': 'J R Maze, A Gali, E Togan, Y Chu, A Trifonov',
          'title': '"Properties of nitrogen-vacancy centers in diamond: the group theoretic approach"',
          'URL': 'Papers/2011/NewJPhys\_13\_025025\_2011.pdf',
          'journal': 'New Journal of Physics',
          'volume': '13'\},
         \{'author': 'Kejie Zhao, Wei L. Wang, John Gregoire, Matt Pharr, Zhigang Suo',
          'title': '"Lithium-Assisted Plastic Deformation of Silicon Electrodes in Lithium-Ion Batteries: A First-Principles Theoretical Study"',
          'URL': 'Papers/2011/NanoLett\_11\_2962-2967\_2011.pdf',
          'journal': 'Nano Lett.',
          'volume': '11'\},
         \{'author': 'Masataka Katono, Takeru Bessho, Sheng Meng, Robin Humphry-Baker, Guido Rothenberger',
          'title': '"D-Ï€-A Dye System Containing Cyano-Benzoic Acid as Anchoring Group for Dye-Sensitized Solar Cells"',
          'URL': 'Papers/2011/Langmuir\_27\_14248\_2011.pdf',
          'journal': 'Langmuir',
          'volume': '27'\},
         \{'author': 'Thomas D. Kuhne, Tod A. Pascal, Efthimios Kaxiras, and Yousung Jung',
          'title': '"New Insights into the Structure of the Vapor/Water Interface from Large-Scale First-Principles Simulations"',
          'URL': 'Papers/2011/JPhysChemLett\_2\_105-113\_2011.pdf',
          'journal': 'J. Phys. Chem. Lett.',
          'volume': '2'\},
         \{'author': 'Sheng Meng, Efthimios Kaxiras, Md. K. Nazeeruddin, and Michael Gratzel',
          'title': '"Design of Dye Acceptors for Photovoltaics from First-Principles Calculations"',
          'URL': 'Papers/2011/JPhysChemC\_115\_9276-9282\_2011.pdf',
          'journal': 'J. Phys. Chem. C',
          'volume': '115'\},
         \{'author': 'Bingjun Xu, Jan Haubrich, Thomas A. Baker, Efthimios Kaxiras, and Cynthia M. Friend',
          'title': '"Theoretical Study of O-Assisted Selective Coupling of Methanol on Au(111)"',
          'URL': 'Papers/2011/JPhysChemC\_115\_3703-3708\_2011.pdf',
          'journal': 'J. Phys. Chem. C',
          'volume': '115'\},
         \{'author': 'Jun Ren, Sheng Meng, Yi-Lin Wang, Xu-Cun Ma, Qi-Kun Xue, Efthimios Kaxiras',
          'title': '"Properties of copper (fluoro-)phthalocyanine layers deposited on epitaxial graphene"',
          'URL': 'Papers/2011/JChemPhys\_134\_194706\_2011.pdf',
          'journal': 'J. Chem. Phys.',
          'volume': '134'\},
         \{'author': 'Jan Haubrich, Efthimios Kaxiras, and Cynthia M. Friend',
          'title': '"The Role of Surface and Subsurface Point Defects for Chemical Model Studies on TiO2: A First-Principles Theoretical Study of Formaldehyde Bonding on Rutile TiO2(110)"',
          'URL': 'Papers/2011/Chemistry\_17\_4496-4506\_2011.pdf',
          'journal': 'Chem. Eur. J.',
          'volume': '17'\},
         \{'author': 'Thomas A. Baker, Bingjun Xu, Stephen C. Jensen, Cynthia M. Friend and Efthimios Kaxiras',
          'title': '"Role of defects in propene adsorption and reaction on a partially O-covered Au(111) surface"',
          'URL': 'Papers/2011/CatalSciTechnol\_1\_1166\_2011.pdf',
          'journal': 'Catal. Sci. Technol.',
          'volume': '1'\},
         \{'author': 'Youdong Mao, Wei L. Wang, Dongguang Wei, Efthimios Kaxiras, and Joseph G. Sodroski',
          'title': '"Graphene Structures at an Extreme Degree of Buckling"',
          'URL': 'Papers/2011/ACSNano\_5\_1395-1400\_2011.pdf',
          'journal': 'ACSNano.',
          'volume': '5'\},
         \{'author': 'H. Li, J.M. Knaup, E. Kaxiras and J.J. Vlassak',
          'title': '"Stiffening of organosilicate glasses by organic cross-linking"',
          'URL': 'Papers/ActaMater\_59\_44-52\_2011.pdf',
          'journal': 'Acta Mater.',
          'volume': '59'\},
         \{'author': 'W.L. Wang and E. Kaxiras',
          'title': '"Graphene hydrate: theoretical prediction of a new insulating  form of graphene"',
          'URL': 'Papers/NewJPhys\_12\_125012\_2010.pdf',
          'journal': 'New J. Phys.',
          'volume': '12'\},
         \{'author': 'L.A. Agapito, N. Kioussis and E. Kaxiras',
          'title': '"Electric-field control of magnetism in graphene quantum dots:  Ab initio calculations"',
          'URL': 'Papers/PhysRevB\_82\_201411\_2010.pdf',
          'journal': 'Phys. Rev. B',
          'volume': '82'\},
         \{'author': 'A. Peters, S. Melchionna, E. Kaxiras, J. Latt, J. Sircar, S. Succi',
          'title': '"Multiscale simulation of cardiovascular flows on the IBM Bluegene/P:  full heart-circulation system at near red-blood cell resolution"',
          'URL': 'Papers/IEEE-SC10\_2010.pdf',
          'journal': '2010 ACM/IEEE International Conference for High Performance',
          'volume': None\},
         \{'author': 'J. Ren, E. Kaxiras and S. Meng',
          'title': '"Optical properties of clusters and molecules from real-time time-dependent density functional theory using a self-consistent field"',
          'URL': 'Papers/MolPhys\_108\_1829-1844\_2010.pdf',
          'journal': 'Molec. Phys.',
          'volume': '108'\},
         \{'author': 'T.A. Baker, E. Kaxiras and C.M. Friend',
          'title': '"Insights from Theory on the Relationship Between Surface Reactivity and Gold Atom Release"',
          'URL': 'Papers/TopicsCatal\_53\_365-377\_2010.pdf',
          'journal': 'Top. Catal.',
          'volume': '53'\},
         \{'author': 'H.P. Chen, R.K. Kalia, E. Kaxiras, G. Lu, A. Nakano, K. Nomura',
          'title': '"Embrittlement of Metal by Solute Segregation-Induced Amorphization"',
          'URL': 'Papers/PhysRevLett\_104\_155502\_2010.pdf',
          'journal': 'Phys. Rev. Lett.',
          'volume': '104'\},
         \{'author': 'S. Meng and E. Kaxiras',
          'title': '"Electron and Hole Dynamics in Dye-Sensitized Solar Cells: Influencing Factors and Systematic Trends"',
          'URL': 'Papers/NanoLett\_10\_1238-1247\_2010.pdf',
          'journal': 'NanoLett.',
          'volume': '10'\},
         \{'author': 'C.L. Chang, S.K.R.S. Sankaranarayanan, D. Ruzmetov, M.H. Engelhard, E. Kaxiras and S. Ramanathan',
          'title': '"Compositional tuning of ultrathin surface oxides on metal and alloy substrates using photons: Dynamic simulations and experiments"',
          'URL': 'Papers/PhysRevB\_81\_085406\_2010.pdf',
          'journal': 'Phys. Rev. B',
          'volume': '81'\},
         \{'author': 'T.A. Baker, C.M. Friend and E. Kaxiras',
          'title': '"Local Bonding Effects in the Oxidation of CO on Oxygen-Covered Au(111) from Ab Initio Molecular Dynamics Simulations"',
          'URL': 'Papers/JChemTheComp\_6\_279-287\_2010.pdf',
          'journal': 'J. Chem. Theory Comput.',
          'volume': '6'\},
         \{'author': 'S. Melchionna, M. Bernaschi, S. Succi, E. Kaxiras, F.J. Rybicki, D. Mitsouras, A.U. Coskun and C.L. Feldman',
          'title': '"Hydrokinetic approach to large-scale cardiovascular blood flow"',
          'URL': 'Papers/CompPhysComm\_181\_462-472\_2010.pdf',
          'journal': 'Comp. Phys. Comm.',
          'volume': '181'\},
         \{'author': 'M. Bernaschi, M. Fatica, S. Melchionna, S. Succi and E. Kaxiras',
          'title': '"A flexible high-performance Lattice Boltzmann GPU code for the simulations of fluid flows in complex geometries"',
          'URL': 'Papers/ConcComp\_22\_1-14\_2010.pdf',
          'journal': 'Concurrency Computat.: Pract. Exper.',
          'volume': '22'\},
         \{'author': 'E. Manousakis, J. Ren, S. Meng and E. Kaxiras',
          'title': '"Is the nature of magnetic order in copper-oxides and iron-pnictides  different?"',
          'URL': 'Papers/SolStComm\_150\_62-65\_2010.pdf',
          'journal': 'Sol. St. Comm.',
          'volume': '150'\},
         \{'author': 'A. Gali, E. Janzen, P. Deak, G. Kresse and E. Kaxiras',
          'title': '"Theory of Spin-Conserving Excitation of the N-V Center in Diamond"',
          'URL': 'Papers/PhysRevLett\_103\_186404\_2009.pdf',
          'journal': 'Phys. Rev. Lett.',
          'volume': '103'\},
         \{'author': 'S.K.R.S. Sankaranarayanan, E. Kaxiras and S. Ramanathan',
          'title': '"Electric field tuning of oxygen stoichiometry at oxide surfaces: molecular dynamics isimulations studies iof zirconia"',
          'URL': 'Papers/EnEnviSci\_2\_1196-1204\_2009.pdf',
          'journal': 'Energy \& Environmental Sci.',
          'volume': '2'\},
         \{'author': 'M. Bernaschi, S. Melchionna, S. Succi, M. Fyta, E. Kaxiras',
          'title': '"MUPHY: A parallel MUlti PHYsics/scale code for high performance  bio-fluidic simulations"',
          'URL': 'Papers/CompPhysComm\_180\_1495-1502\_2009.pdf',
          'journal': 'Comp. Phys. Comm.',
          'volume': '180'\},
         \{'author': 'T.A. Baker, B.J. Xu, X.Y. Liu, E. Kaxiras and C.M. Friend',
          'title': '"Nature of Oxidation of the Au(111) Surface: Experiment and Theoretical Investigation"',
          'URL': 'Papers/JPhysChemC\_113\_16561-16564\_2009.pdf',
          'journal': 'J. Phys. Chem. C',
          'volume': '113'\},
         \{'author': 'F.J. Rybicki, S. Melchionna, D. Mitsouras, A.U. Coskun, A.G. Whitmore, E. Kaxiras, S. Succi, P.H. Stone and C.L. Feldman',
          'title': '"Prediction of coronary artery plaque progression and potential rupture from 320-detector row prospectively ECG-gated single heart beat CT angiography:  Lattice Boltzmann evaluation of endothelial shear stress"',
          'URL': 'Papers/IntJCardImag\_25\_289-299\_2009.pdf',
          'journal': 'Int. J. Cardiovasc. Imaging',
          'volume': '25'\},
         \{'author': 'H. Chen, W.G. Zhu, E. Kaxiras, and Z.Y. Zhang',
          'title': '"Optimization of Mn doping in group-IV-based dilute magnetic semiconductors by electronic codopants"',
          'URL': 'Papers/PhysRevB\_79\_235202\_2009.pdf',
          'journal': 'Phys. Rev. B',
          'volume': '79'\},
         \{'author': 'M. Fyta, S. Melchionna, M. Bernaschi, E. Kaxiras and S. Succi',
          'title': '"Numerical simulation of conformational variability in biopolymer translocation  through wide nanopores"',
          'URL': 'Papers/JStatMech\_2009.pdf',
          'journal': 'J. Stat. Mech: Th. and Exper.',
          'volume': '06'\},
         \{'author': 'E.M. Kotsalis, J.H. Walther, E. Kaxiras and P. Koumoutsakos',
          'title': '"Control algorithm for multiscale flow simulations of water"',
          'URL': 'Papers/PhysRevE\_79\_045701RC\_2009.pdf',
          'journal': 'Phys. Rev. E - Rap. Comm.',
          'volume': '79'\},
         \{'author': 'C.E. Lekka, J. Ren, S. Meng and E. Kaxiras',
          'title': '"Structural, Electronic, and Optical Properties of Representative Cu-Flavonoid Complexes"',
          'URL': 'Papers/JPhysChemB\_113\_6478\_2009.pdf',
          'journal': 'J. Phys. Chem. B',
          'volume': '113'\},
         \{'author': 'W.L. Wang, O.V. Yazyev, S. Meng and E. Kaxiras',
          'title': '"Topological Frustration in Graphene Nanoflakes: Magnetic Order and Spin Logic Devices"',
          'URL': 'Papers/PhysRevLett\_102\_157201\_2009.pdf',
          'journal': 'Phys. Rev. Lett.',
          'volume': '102'\},
         \{'author': 'A. Gali and E. Kaxiras',
          'title': '"Comment on \textbackslash{}'Ab initio Electronic and Optical Properties of the N-V-Center in Diamond\textbackslash{}'"',
          'URL': 'Papers/PhysRevLett\_102\_149703\_2009.pdf',
          'journal': 'Ab initio',
          'volume': '102'\},
         \{'author': 'S. Melchionna, M. Bernaschi, M. Fyta, E. Kaxiras and S. Succi',
          'title': '"Quantized biopolymer translocation through nanopores: Departure from simple scaling"',
          'URL': 'Papers/PhysRevE\_79\_030901RC\_2009.pdf',
          'journal': 'Phys. Rev. E - Rap. Comm.',
          'volume': '79'\},
         \{'author': 'S.K.R.S. Sankaranarayanan, E. Kaxiras, S. Ramanathan',
          'title': '"Atomistic Simulation of Field Enhanced Oxidation of Al(1000) Beyond the Mott Potential"',
          'URL': 'Papers/PhysRevLett\_102\_095504\_2009.pdf',
          'journal': 'Phys. Rev. Lett.',
          'volume': '102'\},
         \{'author': 'T.A. Baker, C.M. Friend and E. Kaxiras',
          'title': '"Effects of chlorine and oxygen coverage on the structure of the Au(111) surface"',
          'URL': 'Papers/JChemPhys\_130\_084701\_2009.pdf',
          'journal': 'J. Chem. Phys.',
          'volume': '130'\},
         \{'author': 'T.A. Baker, C.M. Friend and E. Kaxiras',
          'title': '"Atomic Oxygen Adsorption on Au(111) Surfaces with Defects"',
          'URL': 'Papers/JPhysChemC\_113\_3232\_2009.pdf',
          'journal': 'J. Phys. Chem. C',
          'volume': '113'\},
         \{'author': 'E. Kaxiras and S. Succi',
          'title': '"Multiscale simulations of complex systems: computation meets reality"',
          'URL': 'Papers/SciModSim\_15\_59\_2008.pdf',
          'journal': 'Sci. Model. Simul.',
          'volume': '15'\},
         \{'author': 'E. Manousakis, J. Ren, S. Meng and E. Kaxiras',
          'title': '"Effective Hamiltonian for FeAs-based superconductors"',
          'URL': 'Papers/PhysRevB\_78\_205112\_2008.pdf',
          'journal': 'Phys. Rev. B',
          'volume': '78'\}]
\end{Verbatim}
            
    \textbf{1.3 Convert the list of dictionaries into the .bibTex format
using python string manipulation (python string formatting on a template
string is particularly useful)..}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}10}]:} \PY{c+c1}{\PYZsh{} your code here}
         \PY{k}{def} \PY{n+nf}{create\PYZus{}bibtex}\PY{p}{(}\PY{n}{citation\PYZus{}list}\PY{p}{)}\PY{p}{:}  
             \PY{k}{with} \PY{n+nb}{open}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{publist.bib}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{w}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)} \PY{k}{as} \PY{n}{f}\PY{p}{:}
                 \PY{k}{for} \PY{n}{c} \PY{o+ow}{in} \PY{n}{citation\PYZus{}list}\PY{p}{:}
                     \PY{k}{if} \PY{n}{c}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{volume}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o+ow}{is} \PY{k+kc}{None}\PY{p}{:}
                         \PY{n}{f}\PY{o}{.}\PY{n}{write}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{@article}\PY{l+s+s1}{\PYZob{}}\PY{l+s+se}{\PYZbs{}n}\PY{l+s+se}{\PYZbs{}t}\PY{l+s+s1}{author = }\PY{l+s+s1}{\PYZdq{}}\PY{l+s+si}{\PYZpc{}s}\PY{l+s+s1}{\PYZdq{}}\PY{l+s+se}{\PYZbs{}n}\PY{l+s+se}{\PYZbs{}t}\PY{l+s+s1}{title = }\PY{l+s+si}{\PYZpc{}s}\PY{l+s+se}{\PYZbs{}n}\PY{l+s+se}{\PYZbs{}t}\PY{l+s+s1}{URL = }\PY{l+s+s1}{\PYZdq{}}\PY{l+s+si}{\PYZpc{}s}\PY{l+s+s1}{\PYZdq{}}\PY{l+s+se}{\PYZbs{}n}\PY{l+s+se}{\PYZbs{}t}\PY{l+s+s1}{journal = }\PY{l+s+s1}{\PYZdq{}}\PY{l+s+si}{\PYZpc{}s}\PY{l+s+s1}{\PYZdq{}}\PY{l+s+se}{\PYZbs{}n}\PY{l+s+s1}{\PYZcb{}}\PY{l+s+se}{\PYZbs{}n}\PY{l+s+s1}{\PYZsq{}}
                             \PY{o}{\PYZpc{}} \PY{p}{(}\PY{n}{c}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{author}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}\PY{n}{c}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{title}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}\PY{n}{c}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{URL}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}\PY{n}{c}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{journal}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{p}{)}
                     \PY{k}{else}\PY{p}{:}
                         \PY{n}{f}\PY{o}{.}\PY{n}{write}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{@article}\PY{l+s+s1}{\PYZob{}}\PY{l+s+se}{\PYZbs{}n}\PY{l+s+se}{\PYZbs{}t}\PY{l+s+s1}{author = }\PY{l+s+s1}{\PYZdq{}}\PY{l+s+si}{\PYZpc{}s}\PY{l+s+s1}{\PYZdq{}}\PY{l+s+se}{\PYZbs{}n}\PY{l+s+se}{\PYZbs{}t}\PY{l+s+s1}{title = }\PY{l+s+si}{\PYZpc{}s}\PY{l+s+se}{\PYZbs{}n}\PY{l+s+se}{\PYZbs{}t}\PY{l+s+s1}{URL = }\PY{l+s+s1}{\PYZdq{}}\PY{l+s+si}{\PYZpc{}s}\PY{l+s+s1}{\PYZdq{}}\PY{l+s+se}{\PYZbs{}n}\PY{l+s+se}{\PYZbs{}t}\PY{l+s+s1}{journal = }\PY{l+s+s1}{\PYZdq{}}\PY{l+s+si}{\PYZpc{}s}\PY{l+s+s1}{\PYZdq{}}\PY{l+s+se}{\PYZbs{}n}\PY{l+s+se}{\PYZbs{}t}\PY{l+s+s1}{volume = }\PY{l+s+si}{\PYZpc{}s}\PY{l+s+se}{\PYZbs{}n}\PY{l+s+s1}{\PYZcb{}}\PY{l+s+se}{\PYZbs{}n}\PY{l+s+s1}{\PYZsq{}}
                             \PY{o}{\PYZpc{}} \PY{p}{(}\PY{n}{c}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{author}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}\PY{n}{c}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{title}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}\PY{n}{c}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{URL}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}\PY{n}{c}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{journal}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}\PY{n}{c}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{volume}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{p}{)}
             
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}11}]:} \PY{c+c1}{\PYZsh{} your code here}
         \PY{n}{citation\PYZus{}list} \PY{o}{=} \PY{n}{parse\PYZus{}for\PYZus{}citations}\PY{p}{(}\PY{n}{soup}\PY{p}{)}
         \PY{n}{create\PYZus{}bibtex}\PY{p}{(}\PY{n}{citation\PYZus{}list}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}14}]:} \PY{c+c1}{\PYZsh{} check your answer \PYZhy{} print the bibTex file}
         \PY{c+c1}{\PYZsh{} clear/remove output before making pdf}
         
         \PY{c+c1}{\PYZsh{}f = open(\PYZsq{}publist.bib\PYZsq{},\PYZsq{}r\PYZsq{})}
         \PY{c+c1}{\PYZsh{}print (f.read())}
\end{Verbatim}


    Your output should look like this

\begin{verbatim}
@article{    
     author = "Ming-Wei Lin, Cheng Ling, Luis A. Agapito, Nicholas Kioussis, Yiyang Zhang, Mark Ming-Cheng Cheng",
     title = "Approaching the intrinsic band gap in suspended high-mobility graphene nanoribbons",
     URL = "Papers/2011/PhysRevB_84_125411_2011.pdf",
     journal = "PHYSICAL REVIEW B",
     volume = 84
}

...

@article{    
     author = "E. Kaxiras and S. Succi",
     title = "Multiscale simulations of complex systems: computation meets reality",
     URL = "Papers/SciModSim_15_59_2008.pdf",
     journal = "Sci. Model. Simul.",
     volume = 15
}
\end{verbatim}

    ** 1.4 Convert the list of dictionaries into the .csv format using
pandas, and write the data into \texttt{publist.csv}. The csv file
should have a header and no integer index...**

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}457}]:} \PY{c+c1}{\PYZsh{} make sure you use head() when printing the dataframe}
          \PY{c+c1}{\PYZsh{} your code here}
          \PY{k}{def} \PY{n+nf}{convert\PYZus{}to\PYZus{}pandas}\PY{p}{(}\PY{n}{citation\PYZus{}list}\PY{p}{)}\PY{p}{:}
              \PY{k}{return} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{n}{citation\PYZus{}list}\PY{p}{)}
          
          \PY{n}{citation\PYZus{}list} \PY{o}{=} \PY{n}{parse\PYZus{}for\PYZus{}citations}\PY{p}{(}\PY{n}{soup}\PY{p}{)}
          \PY{n}{citations\PYZus{}pd} \PY{o}{=} \PY{n}{convert\PYZus{}to\PYZus{}pandas}\PY{p}{(}\PY{n}{citation\PYZus{}list}\PY{p}{)}
          \PY{n}{citations\PYZus{}pd}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}457}]:}                                             URL                                             author                 journal                                              title volume
          0       Papers/2011/PhysRevB\_84\_125411\_2011.pdf  Ming-Wei Lin, Cheng Ling, Luis A. Agapito, Nic{\ldots}       PHYSICAL REVIEW B  "Approaching the intrinsic band gap in suspend{\ldots}     84
          1       Papers/2011/PhysRevB\_84\_035325\_2011.pdf  JAdam Gali, Efthimios Kaxiras, Gergely T. Zima{\ldots}       PHYSICAL REVIEW B  "Effect of symmetry breaking on the optical ab{\ldots}     84
          2       Papers/2011/PhysRevB\_83\_054204\_2011.pdf  Jan M. Knaup, Han Li, Joost J. Vlassak, and Ef{\ldots}       PHYSICAL REVIEW B  "Influence of CH2 content and network defects {\ldots}     83
          3       Papers/2011/PhysRevB\_83\_045303\_2011.pdf  Martin Heiss, Sonia Conesa-Boj, Jun Ren, Hsian{\ldots}       PHYSICAL REVIEW B  "Direct correlation of crystal structure and o{\ldots}     83
          4  Papers/2011/PhilTransRSocA\_369\_2354\_2011.pdf  Simone Melchionna, Efthimios Kaxiras, Massimo {\ldots}  Phil. Trans. R. Soc. A  "Endothelial shear stress from large-scale blo{\ldots}    369
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}458}]:} \PY{c+c1}{\PYZsh{} your code here}
          \PY{n}{citations\PYZus{}pd}\PY{o}{.}\PY{n}{to\PYZus{}csv}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{publist.csv}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{index} \PY{o}{=} \PY{k+kc}{False}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}459}]:} \PY{o}{!}head \PYZhy{}3 publist.csv
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
URL,author,journal,title,volume
Papers/2011/PhysRevB\_84\_125411\_2011.pdf,"Ming-Wei Lin, Cheng Ling, Luis A. Agapito, Nicholas Kioussis, Yiyang Zhang, Mark Ming-Cheng Cheng",PHYSICAL REVIEW B,"""Approaching the intrinsic band gap in suspended high-mobility graphene nanoribbons""",84
Papers/2011/PhysRevB\_84\_035325\_2011.pdf,"JAdam Gali, Efthimios Kaxiras, Gergely T. Zimanyi, Sheng Meng",PHYSICAL REVIEW B,"""Effect of symmetry breaking on the optical absorption of semiconductor nanoparticles""",84

    \end{Verbatim}

    \subsection{Follow the stars in IMDb's list of "The Top 100 Stars for
2017"}\label{follow-the-stars-in-imdbs-list-of-the-top-100-stars-for-2017}

\subsubsection{Overview}\label{overview}

In this part, your goal is to extract information from IMDb's Top 100
Stars for 2017 (https://www.imdb.com/list/ls025814950/) and perform some
analysis on each star in the list. In particular we are interested to
know: a) how many performers made their first movie at 17? b) how many
performers started as child actors? c) who is the most proliferate
actress or actor in IMDb's list of the Top 100 Stars for 2017? . These
questions are addressed in more details in the Questions below.

When data is not given to us in a file, we need to fetch them using one
of the following ways: - download a file from a source URL - query a
database - query a web API - scrape data from the web page

     Question 2 {[}52 pts{]}: Web Scraping using Beautiful Soup and
exploring using Pandas

\textbf{2.1} Download the webpage of the "Top 100 Stars for 2017"
(https://www.imdb.com/list/ls025814950/) into a \texttt{requests} object
and name it \texttt{my\_page}. Explain what the following attributes
are:

\begin{itemize}
\tightlist
\item
  \texttt{my\_page.text},
\item
  \texttt{my\_page.status\_code},
\item
  \texttt{my\_page.content}.
\end{itemize}

\textbf{2.2} Create a Beautiful Soup object named \texttt{star\_soup}
using \texttt{my\_page} as input.

\textbf{2.3} Write a function called \texttt{parse\_stars} that accepts
\texttt{star\_soup} as its input and generates a list of dictionaries
named \texttt{starlist} (see definition below; order of dictionaries
does not matter). One of the fields of this dictionary is the
\texttt{url} of each star's individual page, which you need to scrape
and save the contents in the \texttt{page} field. Note that there is a
ton of information about each star on these webpages.

\begin{verbatim}
name: the name of the actor/actress as it appears at the top
gender: 0 or 1: translate the word 'actress' into 1 and 'actor' into '0'
url: the url of the link under their name that leads to a page with details
page: BS object with html text acquired by scraping the above 'url' page' 
\end{verbatim}

\textbf{2.4} Write a function called \texttt{create\_star\_table} which
takes \texttt{starlist} as an input and extracts information about each
star (see function definition for the exact information to be extracted
and the exact output definition). Only extract information from the
first box on each star's page. If the first box is acting, consider only
acting credits and the star's acting debut, if the first box is
Directing, consider only directing credits and directorial debut.

\textbf{2.5} Now that you have scraped all the info you need, it's good
practice to save the last data structure you created to disk. Save the
data structure to a JSON file named \texttt{starinfo.json} and submit
this JSON file in Canvas. If you do this, if you have to restart, you
won't need to redo all the requests and parsings from before.

\textbf{2.6} We provide a JSON file called
\texttt{data/staff\_starinfo.json} created by CS109 teaching staff for
consistency, which you should use for the rest of the homework. Import
the contents of this JSON file into a pandas dataframe called
\texttt{frame}. Check the types of variables in each column and clean
these variables if needed. Add a new column to your dataframe with the
age of each actor when they made their first appearance, movie or TV,
(name this column \texttt{age\_at\_first\_movie}). Check some of the
values of this new column. Do you find any problems? You don't need to
fix them.

\textbf{2.7} You are now ready to answer the following intriguing
questions: - \textbf{2.7.1} How many performers made their first
appearance (movie or TV) when he/she was 17 years old?

\begin{itemize}
\tightlist
\item
  \textbf{2.7.2} How many performers started as child actors? Define
  child actor as a person younger than 12 years old.
\end{itemize}

\textbf{2.8} Make a plot of the number of credits against the name of
actor/actress. Who is the most prolific actress or actor in IMDb's list
of the Top 100 Stars for 2017? Define \textbf{most prolific} as the
performer with the most credits.

\subsubsection{Hints}\label{hints}

\begin{itemize}
\tightlist
\item
  Create a variable that groups actors/actresses by the age of their
  first movie. Use pandas' \texttt{.groupby} to divide the dataframe
  into groups of performers that for example started performing as
  children (age \(<\) 12). The grouped variable is a \texttt{GroupBy}
  pandas object and this object has all of the information needed to
  then apply operations to each of the groups.
\item
  When cleaning the data make sure the variables with which you are
  performing calculations are in numerical format.
\item
  The column with the year has some values that are double, e.g.
  \textbf{'2000-2001'} and the column with age has some empty cells. You
  need to deal with these in a reasonable fashion before performing
  calculations on the data.
\item
  You should include both movies and TV shows.
\end{itemize}

\subsubsection{Resources}\label{resources}

\begin{itemize}
\tightlist
\item
  The \texttt{requests} library makes working with HTTP requests
  powerful and easy. For more on the \texttt{requests} library see
  http://docs.python-requests.org/
\end{itemize}

\subsubsection{Answers}\label{answers}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}15}]:} \PY{k+kn}{import} \PY{n+nn}{requests}
\end{Verbatim}


    \textbf{2.1 Download the webpage of the "Top 100 Stars for 2017 ...}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}201}]:} \PY{c+c1}{\PYZsh{} your code here}
          \PY{n}{my\PYZus{}page} \PY{o}{=} \PY{n}{requests}\PY{o}{.}\PY{n}{get}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{https://www.imdb.com/list/ls025814950/}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}


    \emph{your answer here} * my\_page.text is the decoded html content of
the website. Requests automatically decodes the server's content. *
my\_page.status\_code is the status of the HTTP request (i.e. 202 =
accepted, 400 = bad request, etc.). More information available here:
https://en.wikipedia.org/wiki/List\_of\_HTTP\_status\_codes *
my\_page.content is the html content of the website provided by the
server

    \textbf{2.2 Create a Beautiful Soup object named star\_soup giving
my\_page as input.}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}202}]:} \PY{c+c1}{\PYZsh{} your code here}
          \PY{n}{star\PYZus{}soup} \PY{o}{=} \PY{n}{BeautifulSoup}\PY{p}{(}\PY{n}{my\PYZus{}page}\PY{o}{.}\PY{n}{text}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{html.parser}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}15}]:} \PY{c+c1}{\PYZsh{} check your code \PYZhy{} you should see a familiar HTML page}
         \PY{c+c1}{\PYZsh{} clear/remove output before making pdf}
         
         \PY{c+c1}{\PYZsh{}print (star\PYZus{}soup.prettify()[:])}
\end{Verbatim}


    \textbf{2.3 Write a function called \texttt{parse\_stars} that accepts
\texttt{star\_soup} as its input ...}

    \begin{verbatim}
Function
--------
parse_stars

Input
------
star_soup: the soup object with the scraped page
   
Returns
-------
a list of dictionaries; each dictionary corresponds to a star profile and has the following data:

    name: the name of the actor/actress as it appears at the top
    gender: 0 or 1: translate the word 'actress' into 1 and 'actor' into '0'
    url: the url of the link under their name that leads to a page with details
    page: BS object with 'html text acquired by scraping the above 'url' page' 

Example:
--------
{'name': Tom Hardy,
  'gender': 0,
  'url': https://www.imdb.com/name/nm0362766/?ref_=nmls_hd,
  'page': BS object with 'html text acquired by scraping the 'url' page'
}
\end{verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}252}]:} \PY{c+c1}{\PYZsh{} your code here }
          \PY{k}{def} \PY{n+nf}{list\PYZus{}of\PYZus{}html\PYZus{}profiles}\PY{p}{(}\PY{n}{soup}\PY{p}{)}\PY{p}{:}
              \PY{k}{return} \PY{n}{soup}\PY{o}{.}\PY{n}{find\PYZus{}all}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{div}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{class\PYZus{}} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{lister\PYZhy{}item\PYZhy{}content}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
          
          \PY{k}{def} \PY{n+nf}{clean\PYZus{}text}\PY{p}{(}\PY{n}{text}\PY{p}{)}\PY{p}{:}
              \PY{n}{text\PYZus{}to\PYZus{}strip} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+se}{\PYZbs{}n}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ }\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{,}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
              \PY{k}{for} \PY{n}{t} \PY{o+ow}{in} \PY{n}{text\PYZus{}to\PYZus{}strip}\PY{p}{:}
                  \PY{n}{text} \PY{o}{=} \PY{n}{text}\PY{o}{.}\PY{n}{strip}\PY{p}{(}\PY{n}{t}\PY{p}{)}
              \PY{n}{text} \PY{o}{=} \PY{n}{text}\PY{o}{.}\PY{n}{replace}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+se}{\PYZbs{}n}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{ }\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
              \PY{k}{return} \PY{n}{text}
          
          \PY{k}{def} \PY{n+nf}{get\PYZus{}name}\PY{p}{(}\PY{n}{profile}\PY{p}{)}\PY{p}{:}
              \PY{n}{text} \PY{o}{=} \PY{n}{profile}\PY{o}{.}\PY{n}{find}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{a}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{get\PYZus{}text}\PY{p}{(}\PY{p}{)}
              \PY{k}{return} \PY{n}{clean\PYZus{}text}\PY{p}{(}\PY{n}{text}\PY{p}{)}
          
          \PY{k}{def} \PY{n+nf}{get\PYZus{}gender}\PY{p}{(}\PY{n}{profile}\PY{p}{)}\PY{p}{:}
              \PY{n}{occupation} \PY{o}{=} \PY{n}{profile}\PY{o}{.}\PY{n}{find}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{p}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{class\PYZus{}} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{text\PYZhy{}muted text\PYZhy{}small}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}\PY{o}{.}\PY{n}{contents}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{o}{.}\PY{n}{strip}\PY{p}{(}\PY{p}{)}
              \PY{k}{if} \PY{n}{occupation}\PY{o}{.}\PY{n}{lower}\PY{p}{(}\PY{p}{)} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{actor}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:}
                  \PY{k}{return} \PY{l+m+mi}{0}
              \PY{k}{elif} \PY{n}{occupation}\PY{o}{.}\PY{n}{lower}\PY{p}{(}\PY{p}{)} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{actress}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:}
                  \PY{k}{return} \PY{l+m+mi}{1}
              \PY{k}{else}\PY{p}{:}
                  \PY{k}{return} \PY{l+m+mi}{2}
          
          \PY{k}{def} \PY{n+nf}{get\PYZus{}url}\PY{p}{(}\PY{n}{profile}\PY{p}{)}\PY{p}{:}
              \PY{n}{text} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{https://www.imdb.com}\PY{l+s+s2}{\PYZdq{}} \PY{o}{+} \PY{n}{profile}\PY{o}{.}\PY{n}{find}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{a}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{href}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
              \PY{k}{return} \PY{n}{text}
          
          \PY{k}{def} \PY{n+nf}{get\PYZus{}page}\PY{p}{(}\PY{n}{profile}\PY{p}{)}\PY{p}{:}
              \PY{n}{url} \PY{o}{=} \PY{n}{get\PYZus{}url}\PY{p}{(}\PY{n}{profile}\PY{p}{)}
              \PY{n}{my\PYZus{}page} \PY{o}{=} \PY{n}{requests}\PY{o}{.}\PY{n}{get}\PY{p}{(}\PY{n}{url}\PY{p}{)}
              \PY{n}{time}\PY{o}{.}\PY{n}{sleep}\PY{p}{(}\PY{l+m+mi}{10}\PY{p}{)}
              \PY{k}{return} \PY{n}{BeautifulSoup}\PY{p}{(}\PY{n}{my\PYZus{}page}\PY{o}{.}\PY{n}{text}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{html.parser}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          
          \PY{k}{def} \PY{n+nf}{create\PYZus{}profile\PYZus{}dict}\PY{p}{(}\PY{n}{profile}\PY{p}{)}\PY{p}{:}  
              \PY{n}{profile\PYZus{}dict} \PY{o}{=}  \PY{p}{\PYZob{}}
                  \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{get\PYZus{}name}\PY{p}{(}\PY{n}{profile}\PY{p}{)}\PY{p}{,}
                  \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{gender}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{get\PYZus{}gender}\PY{p}{(}\PY{n}{profile}\PY{p}{)}\PY{p}{,}
                  \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{url}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{get\PYZus{}url}\PY{p}{(}\PY{n}{profile}\PY{p}{)}\PY{p}{,}
                  \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{page}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{get\PYZus{}page}\PY{p}{(}\PY{n}{profile}\PY{p}{)}
              \PY{p}{\PYZcb{}}
              \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{scraped }\PY{l+s+si}{\PYZpc{}s}\PY{l+s+s2}{\PYZdq{}} \PY{o}{\PYZpc{}} \PY{n}{profile\PYZus{}dict}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
              \PY{k}{return} \PY{n}{profile\PYZus{}dict}
              
          
          \PY{k}{def} \PY{n+nf}{parse\PYZus{}soup}\PY{p}{(}\PY{n}{soup}\PY{p}{)}\PY{p}{:}
              \PY{k}{return} \PY{p}{[}\PY{n}{create\PYZus{}profile\PYZus{}dict}\PY{p}{(}\PY{n}{p}\PY{p}{)} \PY{k}{for} \PY{n}{p} \PY{o+ow}{in} \PY{n}{list\PYZus{}of\PYZus{}html\PYZus{}profiles}\PY{p}{(}\PY{n}{soup}\PY{p}{)}\PY{p}{]}
          
          \PY{n}{starlist} \PY{o}{=} \PY{n}{parse\PYZus{}soup}\PY{p}{(}\PY{n}{star\PYZus{}soup}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
scraped Gal Gadot
scraped Tom Hardy
scraped Emilia Clarke
scraped Alexandra Daddario
scraped Bill SkarsgÃ¥rd
scraped Pom Klementieff
scraped Ana de Armas
scraped Dan Stevens
scraped Sofia Boutella
scraped Katherine Langford
scraped Karen Gillan
scraped Margot Robbie
scraped Felicity Jones
scraped Emma Stone
scraped Dylan Minnette
scraped Jennifer Lawrence
scraped Alicia Vikander
scraped Britt Robertson
scraped Ruby Rose
scraped Brie Larson
scraped Keanu Reeves
scraped Sophia Lillis
scraped Jessica Henwick
scraped Cara Delevingne
scraped Haley Bennett
scraped Luke Evans
scraped Teresa Palmer
scraped Tom Holland
scraped Alison Brie
scraped Robin Wright
scraped Zendaya
scraped Emma Watson
scraped Scarlett Johansson
scraped Dafne Keen
scraped Kelly Rohrbach
scraped Eiza GonzÃ¡lez
scraped Laura Haddock
scraped Mary Elizabeth Winstead
scraped Taron Egerton
scraped Anya Taylor-Joy
scraped Elizabeth Debicki
scraped Katheryn Winnick
scraped Sean Young
scraped Bill Paxton
scraped Charlie Hunnam
scraped Yvonne Strahovski
scraped Jason Momoa
scraped Lily James
scraped Jodie Whittaker
scraped Ryan Gosling
scraped Adrianne Palicki
scraped Millie Bobby Brown
scraped Allison Williams
scraped Chris Pratt
scraped Katherine Waterston
scraped Tom Cruise
scraped Johnny Depp
scraped James McAvoy
scraped Travis Fimmel
scraped Charlize Theron
scraped Cole Sprouse
scraped Kaya Scodelario
scraped Abigail Breslin
scraped Daisy Ridley
scraped Emily Browning
scraped Christopher Nolan
scraped Zoe Saldana
scraped Lena Headey
scraped Hugh Jackman
scraped Kit Harington
scraped Leonardo DiCaprio
scraped Malina Weissman
scraped Finn Jones
scraped ChloÃ« Grace Moretz
scraped Alexander SkarsgÃ¥rd
scraped Amy Adams
scraped Bella Thorne
scraped Rebecca Ferguson
scraped Julia Garner
scraped Joan Crawford
scraped Kate Mara
scraped Chris Pine
scraped Bryce Dallas Howard
scraped Halston Sage
scraped Kate Beckinsale
scraped Connie Nielsen
scraped Auli'i Cravalho
scraped MÃ¤dchen Amick
scraped Serinda Swan
scraped Dave Bautista
scraped Rose Leslie
scraped Annabelle Wallis
scraped Zoey Deutch
scraped Sophie Turner
scraped Dakota Johnson
scraped Rosamund Pike
scraped Elodie Yung
scraped Shailene Woodley
scraped Nina Dobrev
scraped Christian Navarro

    \end{Verbatim}

    This should give you 100

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}253}]:} \PY{n+nb}{len}\PY{p}{(}\PY{n}{starlist}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}253}]:} 100
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}16}]:} \PY{c+c1}{\PYZsh{} check your code}
         \PY{c+c1}{\PYZsh{} this list is large because of the html code into the `page` field}
         \PY{c+c1}{\PYZsh{} to get a better picture, print only the first element}
         \PY{c+c1}{\PYZsh{} clear/remove output before making pdf}
         
         \PY{c+c1}{\PYZsh{} print(starlist[0])}
\end{Verbatim}


    Your output should look like this: ``` \{'name': 'Gal Gadot', 'gender':
1, 'url': 'https://www.imdb.com/name/nm2933757?ref\_=nmls\_hd', 'page':

...

```

    \textbf{2.4 Write a function called \texttt{create\_star\_table} to
extract information about each star ...}

    \begin{verbatim}
Function
--------
create_star_table

Input
------
the starlist
   
Returns
-------

a list of dictionaries; each dictionary corresponds to a star profile and has the following data:

    star_name: the name of the actor/actress as it appears at the top
    gender: 0 or 1 (1 for 'actress' and 0 for 'actor')  
    year_born : year they were born
    first_movie: title of their first movie or TV show
    year_first_movie: the year they made their first movie or TV show
    credits: number of movies or TV shows they have made in their career.
    
--------
Example:

{'star_name': Tom Hardy,
  'gender': 0,
  'year_born': 1997,
  'first_movie' : 'Batman',
  'year_first_movie' : 2017,
  'credits' : 24}
  
\end{verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}286}]:} \PY{n}{starlist\PYZus{}copy} \PY{o}{=} \PY{n}{starlist}\PY{o}{.}\PY{n}{copy}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}371}]:} \PY{k}{def} \PY{n+nf}{get\PYZus{}year}\PY{p}{(}\PY{n}{star\PYZus{}page}\PY{p}{)}\PY{p}{:}
              \PY{k}{try}\PY{p}{:}
                  \PY{k}{return} \PY{n}{star\PYZus{}page}\PY{o}{.}\PY{n}{find}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{div}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{name\PYZhy{}born\PYZhy{}info}\PY{l+s+s1}{\PYZsq{}}\PY{p}{\PYZcb{}}\PY{p}{)}\PY{o}{.}\PY{n}{find\PYZus{}all}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{a}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}\PY{o}{.}\PY{n}{text}
              \PY{k}{except} \PY{n+ne}{AttributeError}\PY{p}{:}
                  \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{missing value}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
                  \PY{k}{return} \PY{k+kc}{None}
          
          \PY{k}{def} \PY{n+nf}{get\PYZus{}first\PYZus{}movie}\PY{p}{(}\PY{n}{star\PYZus{}page}\PY{p}{)}\PY{p}{:}
              \PY{n}{tags} \PY{o}{=} \PY{n}{star\PYZus{}page}\PY{o}{.}\PY{n}{find}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{div}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{class\PYZus{}}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{filmo\PYZhy{}category\PYZhy{}section}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{find\PYZus{}all}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{a}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
              \PY{n}{movies} \PY{o}{=} \PY{p}{[}\PY{n}{tag}\PY{o}{.}\PY{n}{text} \PY{k}{for} \PY{n}{tag} \PY{o+ow}{in} \PY{n}{tags} \PY{k}{if} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{pisode}\PY{l+s+s1}{\PYZsq{}} \PY{o+ow}{not} \PY{o+ow}{in} \PY{n}{tag}\PY{o}{.}\PY{n}{text}\PY{p}{]}
              \PY{k}{return} \PY{n}{movies}\PY{p}{[}\PY{o}{\PYZhy{}}\PY{l+m+mi}{1}\PY{p}{]}
          
          \PY{k}{def} \PY{n+nf}{get\PYZus{}year\PYZus{}first\PYZus{}movie}\PY{p}{(}\PY{n}{star\PYZus{}page}\PY{p}{)}\PY{p}{:}
              \PY{n}{text} \PY{o}{=} \PY{n}{star\PYZus{}page}\PY{o}{.}\PY{n}{find}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{div}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{class\PYZus{}}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{filmo\PYZhy{}category\PYZhy{}section}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{find\PYZus{}all}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{span}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{class\PYZus{}}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{year\PYZus{}column}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{[}\PY{o}{\PYZhy{}}\PY{l+m+mi}{1}\PY{p}{]}\PY{o}{.}\PY{n}{text}
              \PY{k}{return} \PY{n}{re}\PY{o}{.}\PY{n}{sub}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{[\PYZca{}0\PYZhy{}9\PYZhy{}]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{text}\PY{p}{)}
          
          \PY{k}{def} \PY{n+nf}{get\PYZus{}credits}\PY{p}{(}\PY{n}{star\PYZus{}page}\PY{p}{)}\PY{p}{:}
              \PY{k}{try}\PY{p}{:}
                  \PY{n}{text} \PY{o}{=} \PY{n}{star\PYZus{}page}\PY{o}{.}\PY{n}{find}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{div}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n+nb}{id} \PY{o}{=} \PY{n}{re}\PY{o}{.}\PY{n}{compile}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{filmo\PYZhy{}head\PYZhy{}act}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}\PY{o}{.}\PY{n}{text}
                  \PY{k}{return} \PY{n}{re}\PY{o}{.}\PY{n}{sub}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{[\PYZca{}0\PYZhy{}9]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{text}\PY{p}{)}
              \PY{k}{except} \PY{n+ne}{AttributeError}\PY{p}{:}
                  \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{missing value}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
                  \PY{k}{return} \PY{k+kc}{None}
          
          \PY{k}{def} \PY{n+nf}{create\PYZus{}star\PYZus{}dict}\PY{p}{(}\PY{n}{old\PYZus{}star\PYZus{}dict}\PY{p}{)}\PY{p}{:}  
              \PY{n}{star\PYZus{}dict} \PY{o}{=}  \PY{p}{\PYZob{}}
                  \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{star\PYZus{}name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{old\PYZus{}star\PYZus{}dict}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}
                  \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{gender}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{old\PYZus{}star\PYZus{}dict}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{gender}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}
                  \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{year\PYZus{}born}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{get\PYZus{}year}\PY{p}{(}\PY{n}{old\PYZus{}star\PYZus{}dict}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{page}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{p}{,}
                  \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{first\PYZus{}movie}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{get\PYZus{}first\PYZus{}movie}\PY{p}{(}\PY{n}{old\PYZus{}star\PYZus{}dict}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{page}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{p}{,}
                  \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{year\PYZus{}first\PYZus{}movie}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{get\PYZus{}year\PYZus{}first\PYZus{}movie}\PY{p}{(}\PY{n}{old\PYZus{}star\PYZus{}dict}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{page}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{p}{,}
                  \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{credits}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{get\PYZus{}credits}\PY{p}{(}\PY{n}{old\PYZus{}star\PYZus{}dict}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{page}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
              \PY{p}{\PYZcb{}}
              \PY{k}{return} \PY{n}{star\PYZus{}dict}
          
          \PY{k}{def} \PY{n+nf}{create\PYZus{}star\PYZus{}table}\PY{p}{(}\PY{n}{starlist}\PY{p}{:} \PY{n+nb}{list}\PY{p}{)} \PY{o}{\PYZhy{}}\PY{o}{\PYZgt{}} \PY{n+nb}{list}\PY{p}{:}
              \PY{k}{return} \PY{p}{[}\PY{n}{create\PYZus{}star\PYZus{}dict}\PY{p}{(}\PY{n}{old\PYZus{}star\PYZus{}dict}\PY{p}{)} \PY{k}{for} \PY{n}{old\PYZus{}star\PYZus{}dict} \PY{o+ow}{in} \PY{n}{starlist}\PY{p}{]}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}372}]:} \PY{n}{star\PYZus{}table} \PY{o}{=} \PY{n}{create\PYZus{}star\PYZus{}table}\PY{p}{(}\PY{n}{starlist}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
missing value
missing value
missing value

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}17}]:} \PY{c+c1}{\PYZsh{} check your code}
         \PY{c+c1}{\PYZsh{} clear/remove output before making the pdf file}
         
         \PY{c+c1}{\PYZsh{} star\PYZus{}table}
\end{Verbatim}


    Your output should look like this (the order of elements is not
important):

\begin{verbatim}
[{'name': 'Gal Gadot',
  'gender': 1,
  'year_born': '1985',
  'first_movie': 'Bubot',
  'year_first_movie': '2007',
  'credits': '25'},
 {'name': 'Tom Hardy',
  'gender': 0,
  'year_born': '1977',
  'first_movie': 'Tommaso',
  'year_first_movie': '2001',
  'credits': '55'},
  
...
\end{verbatim}

    \textbf{2.5 Now that you have scraped all the info you need, it's a good
practice to save the last data structure you ...}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}374}]:} \PY{c+c1}{\PYZsh{} your code here}
          \PY{k+kn}{import} \PY{n+nn}{json}
          \PY{k}{with} \PY{n+nb}{open}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{starinfo.json}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)} \PY{k}{as} \PY{n}{file}\PY{p}{:}
              \PY{n}{json}\PY{o}{.}\PY{n}{dump}\PY{p}{(}\PY{n}{star\PYZus{}table}\PY{p}{,} \PY{n}{file}\PY{p}{)}
\end{Verbatim}


    To check your JSON saving, re-open the JSON file and reload the code

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}19}]:} \PY{c+c1}{\PYZsh{}with open(\PYZdq{}starinfo.json\PYZdq{}, \PYZdq{}r\PYZdq{}) as fd:}
         \PY{c+c1}{\PYZsh{}    star\PYZus{}table = json.load(fd)}
             
         \PY{c+c1}{\PYZsh{} output should be the same}
         \PY{c+c1}{\PYZsh{} clear/remove output before making the pdf file}
         
         \PY{c+c1}{\PYZsh{} star\PYZus{}table}
\end{Verbatim}


    \textbf{2.6 Import the contents of the staff's JSON file
(\texttt{data/staff\_starinfo.json}) into a pandas dataframe. ...}

    \textbf{2.6} We provide a JSON file called
\texttt{data/staff\_starinfo.json} created by CS109 teaching staff for
consistency, which you should use for the rest of the homework. Import
the contents of this JSON file into a pandas dataframe called
\texttt{frame}. Check the types of variables in each column and clean
these variables if needed. Add a new column to your dataframe with the
age of each actor when they made their first appearance, movie or TV,
(name this column \texttt{age\_at\_first\_movie}). Check some of the
values of this new column. Do you find any problems? You don't need to
fix them.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}392}]:} \PY{c+c1}{\PYZsh{} your code here}
          \PY{n}{frame} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}json}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{./data/staff\PYZus{}starinfo.json}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{frame}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}392}]:}    credits      first\_movie  gender                name  year\_born year\_first\_movie
          0       25            Bubot       1           Gal Gadot       1985             2007
          1       55          Tommaso       0           Tom Hardy       1977             2001
          2       17          Doctors       1       Emilia Clarke       1986             2009
          3       51  All My Children       1  Alexandra Daddario       1986        2002-2003
          4       30       JÃ¤rngÃ¤nget       0      Bill SkarsgÃ¥rd       1990             2000
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}393}]:} \PY{c+c1}{\PYZsh{} your code here }
          
          \PY{c+c1}{\PYZsh{}check types}
          \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{types before cleaning:}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
          \PY{n+nb}{print}\PY{p}{(}\PY{n}{frame}\PY{o}{.}\PY{n}{dtypes}\PY{p}{)}
          
          \PY{c+c1}{\PYZsh{}take only first year when year\PYZus{}first\PYZus{}movie is of format yyyy\PYZhy{}yyyy}
          \PY{n}{frame}\PY{o}{.}\PY{n}{year\PYZus{}first\PYZus{}movie} \PY{o}{=} \PY{n}{frame}\PY{o}{.}\PY{n}{year\PYZus{}first\PYZus{}movie}\PY{o}{.}\PY{n}{apply}\PY{p}{(}\PY{k}{lambda} \PY{n}{x}\PY{p}{:} \PY{n}{x}\PY{p}{[}\PY{p}{:}\PY{l+m+mi}{4}\PY{p}{]}\PY{p}{)}
          
          \PY{c+c1}{\PYZsh{}cast year\PYZus{}first\PYZus{}movie to int}
          \PY{n}{frame}\PY{o}{.}\PY{n}{year\PYZus{}first\PYZus{}movie} \PY{o}{=} \PY{n}{frame}\PY{o}{.}\PY{n}{year\PYZus{}first\PYZus{}movie}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{n+nb}{int}\PY{p}{)}
          
          \PY{c+c1}{\PYZsh{}check types}
          \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{types after cleaning:}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
          \PY{n+nb}{print}\PY{p}{(}\PY{n}{frame}\PY{o}{.}\PY{n}{dtypes}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
types before cleaning:
credits              int64
first\_movie         object
gender               int64
name                object
year\_born            int64
year\_first\_movie    object
dtype: object
types after cleaning:
credits              int64
first\_movie         object
gender               int64
name                object
year\_born            int64
year\_first\_movie     int64
dtype: object

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}397}]:} \PY{c+c1}{\PYZsh{} your code here}
          \PY{c+c1}{\PYZsh{}check for missing values}
          \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{number of NA values: }\PY{l+s+si}{\PYZpc{}i}\PY{l+s+s1}{\PYZsq{}} \PY{o}{\PYZpc{}}\PY{k}{frame}.isna().sum().sum())
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
number of NA values: 0

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}403}]:} \PY{c+c1}{\PYZsh{} your code here}
          \PY{n}{frame}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{age\PYZus{}at\PYZus{}first\PYZus{}movie}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{frame}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{year\PYZus{}first\PYZus{}movie}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{\PYZhy{}} \PY{n}{frame}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{year\PYZus{}born}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
          \PY{n}{frame}\PY{p}{[}\PY{n}{frame}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{age\PYZus{}at\PYZus{}first\PYZus{}movie}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{\PYZlt{}} \PY{l+m+mi}{0}\PY{p}{]}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}403}]:}     credits     first\_movie  gender          name  year\_born  year\_first\_movie  age\_at\_first\_movie
          63       32  Only Yesterday       1  Daisy Ridley       1992              1991                  -1
\end{Verbatim}
            
    \emph{your answer here}

Daisy Ridley's first movie was apparently released before she was born.

    \textbf{2.7 You are now ready to answer the following intriguing
questions}:

    \textbf{2.7.1 How many performers made their first movie at 17?}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}409}]:} \PY{c+c1}{\PYZsh{} your code here}
          \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+si}{\PYZpc{}i}\PY{l+s+s2}{ performers made their first movie at 17}\PY{l+s+s2}{\PYZdq{}} \PY{o}{\PYZpc{}} \PY{n}{frame}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{age\PYZus{}at\PYZus{}first\PYZus{}movie}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
8 performers made their first movie at 17

    \end{Verbatim}

    Your output should look like this: 8 performers made their first movie
at 17

    \textbf{2.7.2 How many performers started as child actors? Define child
actor as a person less than 12 years old.}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}414}]:} \PY{c+c1}{\PYZsh{} your code here}
          \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+si}{\PYZpc{}i}\PY{l+s+s2}{ performers started as child actors}\PY{l+s+s2}{\PYZdq{}} \PY{o}{\PYZpc{}} \PY{n}{frame}\PY{p}{[}\PY{n}{frame}\PY{o}{.}\PY{n}{age\PYZus{}at\PYZus{}first\PYZus{}movie} \PY{o}{\PYZlt{}} \PY{l+m+mi}{12}\PY{p}{]}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
20 performers started as child actors

    \end{Verbatim}

    \textbf{2.8 Make a plot of the number of credits versus the name of
actor/actress.}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}437}]:} \PY{c+c1}{\PYZsh{} your code here}
          \PY{n}{frame} \PY{o}{=} \PY{n}{frame}\PY{o}{.}\PY{n}{sort\PYZus{}values}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{credits}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{plt}\PY{o}{.}\PY{n}{subplots}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{20}\PY{p}{,}\PY{l+m+mi}{10}\PY{p}{)}\PY{p}{)}
          \PY{n}{ax} \PY{o}{=} \PY{n}{sns}\PY{o}{.}\PY{n}{barplot}\PY{p}{(}\PY{n}{x} \PY{o}{=} \PY{n}{frame}\PY{o}{.}\PY{n}{name}\PY{p}{,} \PY{n}{y} \PY{o}{=} \PY{n}{frame}\PY{o}{.}\PY{n}{credits}\PY{p}{)}
          \PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}title}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Number of Movies or TV Shows per Actor/Actress}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}xticklabels}\PY{p}{(}\PY{n}{frame}\PY{o}{.}\PY{n}{name}\PY{p}{,} \PY{n}{rotation}\PY{o}{=}\PY{l+m+mi}{90}\PY{p}{)}
          \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{40}\PY{p}{,}\PY{l+m+mi}{10}\PY{p}{)}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}437}]:} <Figure size 2880x720 with 0 Axes>
\end{Verbatim}
            
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_65_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    
    \begin{verbatim}
<Figure size 2880x720 with 0 Axes>
    \end{verbatim}

    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}449}]:} \PY{c+c1}{\PYZsh{} your code here }
          \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{The most prolific actor is }\PY{l+s+si}{\PYZpc{}s}\PY{l+s+s2}{\PYZdq{}} \PY{o}{\PYZpc{}} \PY{n+nb}{list}\PY{p}{(}\PY{n}{frame}\PY{p}{[}\PY{n}{frame}\PY{o}{.}\PY{n}{credits} \PY{o}{==} \PY{n+nb}{max}\PY{p}{(}\PY{n}{frame}\PY{o}{.}\PY{n}{credits}\PY{p}{)}\PY{p}{]}\PY{o}{.}\PY{n}{name}\PY{p}{)}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
The most prolific actor is Sean Young

    \end{Verbatim}

    \subsection{Going the Extra Mile}\label{going-the-extra-mile}

Be sure to complete problems 1 and 2 before tackling this problem...it
is worth only 8 points.

    Question 3 {[}8 pts{]}: Parsing using Regular Expressions (regex)

Even though scraping HTML with regex is sometimes considered bad
practice, you are to use python's \textbf{regular expressions} to answer
this problem. Regular expressions are useful to parse strings, text,
tweets, etc. in general (for example, you may encounter a non-standard
format for dates at some point). Do not use BeautifulSoup to answer this
problem.

\textbf{3.1} Write a function called \texttt{get\_pubs} that takes an
.html filename as an input and returns a string containing the HTML page
in this file (see definition below). Call this function using
\texttt{data/publist\_super\_clean.html} as input and name the returned
string \texttt{prof\_pubs}.

\textbf{3.2} Calculate how many times the author named
'\texttt{C.M.\ Friend}' appears in the list of publications.

\textbf{3.3} Find all unique journals and copy them in a variable named
\texttt{journals}.

\textbf{3.4} Create a list named \texttt{pub\_authors} whose elements
are strings containing the authors' names for each paper.

\subsubsection{Hints}\label{hints}

\begin{itemize}
\tightlist
\item
  Look for patterns in the HTML tags that reveal where each piece of
  information such as the title of the paper, the names of the authors,
  the journal name, is stored. For example, you might notice that the
  journal name(s) is contained between the \textless{}I\textgreater{}
  HTML tag.
\item
  Learning about your domain is always a good idea: you want to check
  the names to make sure that they belong to actual journals. Thus,
  while journal name(s) is contained between the
  \textless{}I\textgreater{} HTML tag, please note that all strings
  found between \textless{}I\textgreater{} tags may not be journal
  names.
\item
  Each publication has multiple authors.
\item
  \texttt{C.M.\ Friend} also shows up as \texttt{Cynthia\ M.\ Friend} in
  the file. Count just \texttt{C.\ M.\ Friend}.
\item
  There is a comma at the end of the string of authors. You can choose
  to keep it in the string or remove it and put it back when you write
  the string as a BibTex entry.
\item
  You want to remove duplicates from the list of journals. Duplicates
  may also occur due to misspellings or spaces, such as:
  \texttt{Nano\ Lett.}, and \texttt{NanoLett.} You can assume that any
  journals with the same initials (e.g., \texttt{NL} for
  \texttt{NanoLett.}) are the same journal.
\end{itemize}

\subsubsection{Resources}\label{resources}

\begin{itemize}
\tightlist
\item
  \textbf{Regular expressions:} a)
  https://docs.python.org/3.3/library/re.html, b) https://regexone.com,
  and c) https://docs.python.org/3/howto/regex.html.
\item
  ** HTML:** if you are not familiar with HTML see
  https://www.w3schools.com/html/ or one of the many tutorials on the
  internet.
\item
  ** Document Object Model (DOM):** for more on this programming
  interface for HTML and XML documents see
  https://www.w3schools.com/js/js\_htmldom.asp.
\end{itemize}

    \subsubsection{Answers}\label{answers}

** 3.1 Write a function called \texttt{get\_pubs} that takes an .html
filename as an input and returns a string ... **

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}36}]:} \PY{c+c1}{\PYZsh{} first import the necessary reg expr library}
         \PY{k+kn}{import} \PY{n+nn}{re}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}37}]:} \PY{c+c1}{\PYZsh{} use this file provided}
         \PY{n}{PUB\PYZus{}FILENAME} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{data/publist\PYZus{}super\PYZus{}clean.html}\PY{l+s+s1}{\PYZsq{}}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}460}]:} \PY{c+c1}{\PYZsh{} your code here}
          \PY{k}{def} \PY{n+nf}{get\PYZus{}pubs}\PY{p}{(}\PY{n}{filename}\PY{p}{)}\PY{p}{:}
              \PY{k}{with} \PY{n+nb}{open}\PY{p}{(}\PY{n}{filename}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{r}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)} \PY{k}{as} \PY{n}{f}\PY{p}{:}
                  \PY{k}{return} \PY{n}{f}\PY{o}{.}\PY{n}{read}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}462}]:} \PY{c+c1}{\PYZsh{} your code here}
          \PY{n}{prof\PYZus{}pubs} \PY{o}{=} \PY{n}{get\PYZus{}pubs}\PY{p}{(}\PY{n}{PUB\PYZus{}FILENAME}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}20}]:} \PY{c+c1}{\PYZsh{} checking your code }
         \PY{c+c1}{\PYZsh{} clear/remove output before creating the pdf file}
         
         \PY{c+c1}{\PYZsh{} print(prof\PYZus{}pubs)}
\end{Verbatim}


    You should see an HTML page that looks like this (colors are not
important) ```html

 "Approaching the intrinsic band gap in suspended high-mobility graphene
nanoribbons" Ming-Wei Lin, Cheng Ling, Luis A. Agapito, Nicholas
Kioussis, Yiyang Zhang, Mark Ming-Cheng Cheng, PHYSICAL REVIEW B 84,
125411 (2011)

 "Effect of symmetry breaking on the optical absorption of semiconductor
nanoparticles" JAdam Gali, Efthimios Kaxiras, Gergely T. Zimanyi, Sheng
Meng, PHYSICAL REVIEW B 84, 035325 (2011)

 "Influence of CH2 content and network defects on the elastic properties
of organosilicate glasses" Jan M. Knaup, Han Li, Joost J. Vlassak, and
Efthimios Kaxiras, PHYSICAL REVIEW B 83, 054204 (2011)

\begin{verbatim}
```
\end{verbatim}

    \textbf{3.2 Calculate how many times the author ... }

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}524}]:} \PY{c+c1}{\PYZsh{} your code here}
          \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{C.M. Friend appears }\PY{l+s+si}{\PYZpc{}i}\PY{l+s+s2}{ times}\PY{l+s+s2}{\PYZdq{}}\PY{o}{\PYZpc{}}\PY{k}{prof\PYZus{}pubs}.count(\PYZdq{}C.M. Friend\PYZdq{}))
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
C.M. Friend appears 5 times

    \end{Verbatim}

    \textbf{3.3 Find all unique journals and copy ...}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}525}]:} \PY{c+c1}{\PYZsh{} your code here }
          \PY{n}{journals\PYZus{}with\PYZus{}tags} \PY{o}{=} \PY{n+nb}{set}\PY{p}{(}\PY{n}{re}\PY{o}{.}\PY{n}{findall}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{\PYZlt{}I\PYZgt{}.*\PYZlt{}/I\PYZgt{}}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}\PY{n}{prof\PYZus{}pubs}\PY{p}{)}\PY{p}{)}
          \PY{n}{journals} \PY{o}{=} \PY{p}{[}\PY{n}{name}\PY{p}{[}\PY{l+m+mi}{3}\PY{p}{:}\PY{o}{\PYZhy{}}\PY{l+m+mi}{5}\PY{p}{]} \PY{k}{for} \PY{n}{name} \PY{o+ow}{in} \PY{n}{journals\PYZus{}with\PYZus{}tags}\PY{p}{]}
          \PY{n}{journals}\PY{o}{.}\PY{n}{sort}\PY{p}{(}\PY{p}{)}
          \PY{n}{journals}\PY{o}{.}\PY{n}{remove}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{NanoLett.}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{journals}\PY{o}{.}\PY{n}{remove}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{New J. Phys.}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}526}]:} \PY{n}{journals}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}526}]:} ['2010 ACM/IEEE International Conference for High Performance',
           'ACSNano.',
           'Ab initi',
           'Acta Mater.',
           'Catal. Sci. Technol.',
           'Chem. Eur. J.',
           'Comp. Phys. Comm.',
           'Concurrency Computat.: Pract. Exper.',
           'Energy \& Environmental Sci.',
           'Int. J. Cardiovasc. Imaging',
           'J. Chem. Phys.',
           'J. Chem. Theory Comput.',
           'J. Phys. Chem. B',
           'J. Phys. Chem. C',
           'J. Phys. Chem. Lett.',
           'J. Stat. Mech: Th. and Exper.',
           'Langmuir',
           'Molec. Phys.',
           'Nano Lett.',
           'New Journal of Physics',
           'PHYSICAL REVIEW B',
           'Phil. Trans. R. Soc. A',
           'Phys. Rev. B',
           'Phys. Rev. E - Rap. Comm.',
           'Phys. Rev. Lett.',
           'Sci. Model. Simul.',
           'Sol. St. Comm.',
           'Top. Catal.']
\end{Verbatim}
            
    Your output should look like this (no duplicates):
\texttt{\{\textquotesingle{}2010\ ACM/IEEE\ International\ Conference\ for\ High\ Performance\textquotesingle{},\ \ \textquotesingle{}ACSNano.\textquotesingle{},\ \ \textquotesingle{}Ab\ initio\textquotesingle{},\ \ \textquotesingle{}Acta\ Mater.\textquotesingle{},\ \ \textquotesingle{}Catal.\ Sci.\ Technol.\textquotesingle{},\ \ \textquotesingle{}Chem.\ Eur.\ J.\textquotesingle{},\ \ \textquotesingle{}Comp.\ Phys.\ Comm.\textquotesingle{},\ \ \textquotesingle{}Concurrency\ Computat.:\ Pract.\ Exper.\textquotesingle{},\ \ \textquotesingle{}Energy\ \&\ Environmental\ Sci.\textquotesingle{},\ \ \textquotesingle{}Int.\ J.\ Cardiovasc.\ Imaging\textquotesingle{},\ \ \textquotesingle{}J.\ Chem.\ Phys.\textquotesingle{},\ \ \textquotesingle{}J.\ Chem.\ Theory\ Comput.\textquotesingle{},\ \ \textquotesingle{}J.\ Phys.\ Chem.\ B\textquotesingle{},\ \ \textquotesingle{}J.\ Phys.\ Chem.\ C\textquotesingle{},\ \ \textquotesingle{}J.\ Phys.\ Chem.\ Lett.\textquotesingle{},\ \ \textquotesingle{}J.\ Stat.\ Mech:\ Th.\ and\ Exper.\textquotesingle{},\ \ \textquotesingle{}Langmuir\textquotesingle{},\ \ \textquotesingle{}Molec.\ Phys.\textquotesingle{},\ \ \textquotesingle{}Nano\ Lett.\textquotesingle{},\ \ \textquotesingle{}New\ Journal\ of\ Physics\textquotesingle{},\ \ \textquotesingle{}PHYSICAL\ REVIEW\ B\textquotesingle{},\ \ \textquotesingle{}Phil.\ Trans.\ R.\ Soc.\ A\textquotesingle{},\ \ \textquotesingle{}Phys.\ Rev.\ E\ -\ Rap.\ Comm.\textquotesingle{},\ \ \textquotesingle{}Phys.\ Rev.\ Lett.\textquotesingle{},\ \ \textquotesingle{}Sci.\ Model.\ Simul.\textquotesingle{},\ \ \textquotesingle{}Sol.\ St.\ Comm.\textquotesingle{},\ \ \textquotesingle{}Top.\ Catal.\textquotesingle{}\}}

    \textbf{3.4 Create a list named \texttt{pub\_authors}...}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}527}]:} \PY{c+c1}{\PYZsh{} your code here}
          \PY{n}{pub\PYZus{}authors\PYZus{}with\PYZus{}tags} \PY{o}{=} \PY{n}{re}\PY{o}{.}\PY{n}{findall}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{\PYZlt{}BR\PYZgt{}.*}\PY{l+s+se}{\PYZbs{}n}\PY{l+s+s2}{\PYZlt{}I\PYZgt{}}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}\PY{n}{prof\PYZus{}pubs}\PY{p}{)}
          \PY{n}{pub\PYZus{}authors} \PY{o}{=} \PY{p}{[}\PY{n}{authors}\PY{p}{[}\PY{l+m+mi}{4}\PY{p}{:}\PY{o}{\PYZhy{}}\PY{l+m+mi}{5}\PY{p}{]}\PY{o}{.}\PY{n}{strip}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{ ,}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)} \PY{k}{for} \PY{n}{authors} \PY{o+ow}{in} \PY{n}{pub\PYZus{}authors\PYZus{}with\PYZus{}tags}\PY{p}{]}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}528}]:} \PY{c+c1}{\PYZsh{} check your code: print the list of strings containing the author(s)\PYZsq{} names}
          \PY{k}{for} \PY{n}{item} \PY{o+ow}{in} \PY{n}{pub\PYZus{}authors}\PY{p}{:}
              \PY{n+nb}{print} \PY{p}{(}\PY{n}{item}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
Ming-Wei Lin, Cheng Ling, Luis A. Agapito, Nicholas Kioussis, Yiyang Zhang, Mark Ming-Cheng Cheng
JAdam Gali, Efthimios Kaxiras, Gergely T. Zimanyi, Sheng Meng
Jan M. Knaup, Han Li, Joost J. Vlassak, and Efthimios Kaxiras
Martin Heiss, Sonia Conesa-Boj, Jun Ren, Hsiang-Han Tseng, Adam Gali
Simone Melchionna, Efthimios Kaxiras, Massimo Bernaschi and Sauro Succi
J R Maze, A Gali, E Togan, Y Chu, A Trifonov
Kejie Zhao, Wei L. Wang, John Gregoire, Matt Pharr, Zhigang Suo
Masataka Katono, Takeru Bessho, Sheng Meng, Robin Humphry-Baker, Guido Rothenberger
Thomas D. Kuhne, Tod A. Pascal, Efthimios Kaxiras, and Yousung Jung
Sheng Meng, Efthimios Kaxiras, Md. K. Nazeeruddin, and Michael Gratzel
Bingjun Xu, Jan Haubrich, Thomas A. Baker, Efthimios Kaxiras, and Cynthia M. Friend
Jun Ren, Sheng Meng, Yi-Lin Wang, Xu-Cun Ma, Qi-Kun Xue, Efthimios Kaxiras
Jan Haubrich, Efthimios Kaxiras, and Cynthia M. Friend
Thomas A. Baker, Bingjun Xu, Stephen C. Jensen, Cynthia M. Friend and Efthimios Kaxiras
Youdong Mao, Wei L. Wang, Dongguang Wei, Efthimios Kaxiras, and Joseph G. Sodroski
H. Li, J.M. Knaup, E. Kaxiras and J.J. Vlassak
W.L. Wang and E. Kaxiras
L.A. Agapito, N. Kioussis and E. Kaxiras
A. Peters, S. Melchionna, E. Kaxiras, J. Latt, J. Sircar, S. Succi
J. Ren, E. Kaxiras and S. Meng
T.A. Baker, E. Kaxiras and C.M. Friend
H.P. Chen, R.K. Kalia, E. Kaxiras, G. Lu, A. Nakano, K. Nomura
S. Meng and E. Kaxiras
C.L. Chang, S.K.R.S. Sankaranarayanan, D. Ruzmetov, M.H. Engelhard, E. Kaxiras and S. Ramanathan
T.A. Baker, C.M. Friend and E. Kaxiras
S. Melchionna, M. Bernaschi, S. Succi, E. Kaxiras, F.J. Rybicki, D. Mitsouras, A.U. Coskun and C.L. Feldman
M. Bernaschi, M. Fatica, S. Melchionna, S. Succi and E. Kaxiras
E. Manousakis, J. Ren, S. Meng and E. Kaxiras
A. Gali, E. Janzen, P. Deak, G. Kresse and E. Kaxiras
S.K.R.S. Sankaranarayanan, E. Kaxiras and S. Ramanathan
M. Bernaschi, S. Melchionna, S. Succi, M. Fyta, E. Kaxiras
T.A. Baker, B.J. Xu, X.Y. Liu, E. Kaxiras and C.M. Friend
F.J. Rybicki, S. Melchionna, D. Mitsouras, A.U. Coskun, A.G. Whitmore, E. Kaxiras, S. Succi, P.H. Stone and C.L. Feldman
H. Chen, W.G. Zhu, E. Kaxiras, and Z.Y. Zhang
M. Fyta, S. Melchionna, M. Bernaschi, E. Kaxiras and S. Succi
E.M. Kotsalis, J.H. Walther, E. Kaxiras and P. Koumoutsakos
C.E. Lekka, J. Ren, S. Meng and E. Kaxiras
W.L. Wang, O.V. Yazyev, S. Meng and E. Kaxiras
A. Gali and E. Kaxiras
S. Melchionna, M. Bernaschi, M. Fyta, E. Kaxiras and S. Succi
S.K.R.S. Sankaranarayanan, E. Kaxiras, S. Ramanathan
T.A. Baker, C.M. Friend and E. Kaxiras
T.A. Baker, C.M. Friend and E. Kaxiras
E. Kaxiras and S. Succi
E. Manousakis, J. Ren, S. Meng and E. Kaxiras

    \end{Verbatim}

    Your output should look like this (a line for each paper's authors
string of names)

\begin{verbatim}
Ming-Wei Lin, Cheng Ling, Luis A. Agapito, Nicholas Kioussis, Yiyang Zhang, Mark Ming-Cheng Cheng,
JAdam Gali, Efthimios Kaxiras, Gergely T. Zimanyi, Sheng Meng,
Jan M. Knaup, Han Li, Joost J. Vlassak, and Efthimios Kaxiras,
Martin Heiss, Sonia Conesa-Boj, Jun Ren, Hsiang-Han Tseng, Adam Gali,

...

T.A. Baker, C.M. Friend and E. Kaxiras,
T.A. Baker, C.M. Friend and E. Kaxiras,
E. Kaxiras and S. Succi,
E. Manousakis, J. Ren, S. Meng and E. Kaxiras,
\end{verbatim}


    % Add a bibliography block to the postdoc
    
    
    
    \end{document}
